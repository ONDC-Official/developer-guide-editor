import{Q as an,l as un,b7 as on,b8 as sn}from"./index-C5AWSjYT.js";var st=Object.prototype.hasOwnProperty;function lt(e,n,t){for(t of e.keys())if(Be(t,n))return t}function Be(e,n){var t,r,o;if(e===n)return!0;if(e&&n&&(t=e.constructor)===n.constructor){if(t===Date)return e.getTime()===n.getTime();if(t===RegExp)return e.toString()===n.toString();if(t===Array){if((r=e.length)===n.length)for(;r--&&Be(e[r],n[r]););return r===-1}if(t===Set){if(e.size!==n.size)return!1;for(r of e)if(o=r,o&&typeof o=="object"&&(o=lt(n,o),!o)||!n.has(o))return!1;return!0}if(t===Map){if(e.size!==n.size)return!1;for(r of e)if(o=r[0],o&&typeof o=="object"&&(o=lt(n,o),!o)||!Be(r[1],n.get(o)))return!1;return!0}if(t===ArrayBuffer)e=new Uint8Array(e),n=new Uint8Array(n);else if(t===DataView){if((r=e.byteLength)===n.byteLength)for(;r--&&e.getInt8(r)===n.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===n.byteLength)for(;r--&&e[r]===n[r];);return r===-1}if(!t||typeof e=="object"){r=0;for(t in e)if(st.call(e,t)&&++r&&!st.call(n,t)||!(t in n)||!Be(e[t],n[t]))return!1;return Object.keys(n).length===r}}return e!==e&&n!==n}var ln={};let Ve,At,Bt,It,Mt=!0;typeof process<"u"&&({FORCE_COLOR:Ve,NODE_DISABLE_COLORS:At,NO_COLOR:Bt,TERM:It}=ln||{},Mt=process.stdout&&process.stdout.isTTY);const O={enabled:!At&&Bt==null&&It!=="dumb"&&(Ve!=null&&Ve!=="0"||Mt),reset:V(0,0),bold:V(1,22),dim:V(2,22),italic:V(3,23),underline:V(4,24),inverse:V(7,27),hidden:V(8,28),strikethrough:V(9,29),black:V(30,39),red:V(31,39),green:V(32,39),yellow:V(33,39),blue:V(34,39),magenta:V(35,39),cyan:V(36,39),white:V(37,39),gray:V(90,39),grey:V(90,39),bgBlack:V(40,49),bgRed:V(41,49),bgGreen:V(42,49),bgYellow:V(43,49),bgBlue:V(44,49),bgMagenta:V(45,49),bgCyan:V(46,49),bgWhite:V(47,49)};function ct(e,n){let t=0,r,o="",a="";for(;t<e.length;t++)r=e[t],o+=r.open,a+=r.close,~n.indexOf(r.close)&&(n=n.replace(r.rgx,r.close+r.open));return o+n+a}function cn(e,n){let t={has:e,keys:n};return t.reset=O.reset.bind(t),t.bold=O.bold.bind(t),t.dim=O.dim.bind(t),t.italic=O.italic.bind(t),t.underline=O.underline.bind(t),t.inverse=O.inverse.bind(t),t.hidden=O.hidden.bind(t),t.strikethrough=O.strikethrough.bind(t),t.black=O.black.bind(t),t.red=O.red.bind(t),t.green=O.green.bind(t),t.yellow=O.yellow.bind(t),t.blue=O.blue.bind(t),t.magenta=O.magenta.bind(t),t.cyan=O.cyan.bind(t),t.white=O.white.bind(t),t.gray=O.gray.bind(t),t.grey=O.grey.bind(t),t.bgBlack=O.bgBlack.bind(t),t.bgRed=O.bgRed.bind(t),t.bgGreen=O.bgGreen.bind(t),t.bgYellow=O.bgYellow.bind(t),t.bgBlue=O.bgBlue.bind(t),t.bgMagenta=O.bgMagenta.bind(t),t.bgCyan=O.bgCyan.bind(t),t.bgWhite=O.bgWhite.bind(t),t}function V(e,n){let t={open:`\x1B[${e}m`,close:`\x1B[${n}m`,rgx:new RegExp(`\\x1b\\[${n}m`,"g")};return function(r){return this!==void 0&&this.has!==void 0?(~this.has.indexOf(e)||(this.has.push(e),this.keys.push(t)),r===void 0?this:O.enabled?ct(this.keys,r+""):r+""):r===void 0?cn([e],[t]):O.enabled?ct([t],r+""):r+""}}function ke(){}ke.prototype={diff:function(n,t){var r,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.callback;typeof o=="function"&&(a=o,o={}),this.options=o;var s=this;function l(I){return a?(setTimeout(function(){a(void 0,I)},0),!0):I}n=this.castInput(n),t=this.castInput(t),n=this.removeEmpty(this.tokenize(n)),t=this.removeEmpty(this.tokenize(t));var x=t.length,p=n.length,c=1,h=x+p;o.maxEditLength&&(h=Math.min(h,o.maxEditLength));var g=(r=o.timeout)!==null&&r!==void 0?r:1/0,f=Date.now()+g,A=[{oldPos:-1,lastComponent:void 0}],B=this.extractCommon(A[0],t,n,0);if(A[0].oldPos+1>=p&&B+1>=x)return l([{value:this.join(t),count:t.length}]);var D=-1/0,C=1/0;function _(){for(var I=Math.max(D,-c);I<=Math.min(C,c);I+=2){var P=void 0,S=A[I-1],q=A[I+1];S&&(A[I-1]=void 0);var N=!1;if(q){var Q=q.oldPos-I;N=q&&0<=Q&&Q<x}var Y=S&&S.oldPos+1<p;if(!N&&!Y){A[I]=void 0;continue}if(!Y||N&&S.oldPos+1<q.oldPos?P=s.addToPath(q,!0,void 0,0):P=s.addToPath(S,void 0,!0,1),B=s.extractCommon(P,t,n,I),P.oldPos+1>=p&&B+1>=x)return l(pn(s,P.lastComponent,t,n,s.useLongestToken));A[I]=P,P.oldPos+1>=p&&(C=Math.min(C,I-1)),B+1>=x&&(D=Math.max(D,I+1))}c++}if(a)(function I(){setTimeout(function(){if(c>h||Date.now()>f)return a();_()||I()},0)})();else for(;c<=h&&Date.now()<=f;){var z=_();if(z)return z}},addToPath:function(n,t,r,o){var a=n.lastComponent;return a&&a.added===t&&a.removed===r?{oldPos:n.oldPos+o,lastComponent:{count:a.count+1,added:t,removed:r,previousComponent:a.previousComponent}}:{oldPos:n.oldPos+o,lastComponent:{count:1,added:t,removed:r,previousComponent:a}}},extractCommon:function(n,t,r,o){for(var a=t.length,s=r.length,l=n.oldPos,x=l-o,p=0;x+1<a&&l+1<s&&this.equals(t[x+1],r[l+1]);)x++,l++,p++;return p&&(n.lastComponent={count:p,previousComponent:n.lastComponent}),n.oldPos=l,x},equals:function(n,t){return this.options.comparator?this.options.comparator(n,t):n===t||this.options.ignoreCase&&n.toLowerCase()===t.toLowerCase()},removeEmpty:function(n){for(var t=[],r=0;r<n.length;r++)n[r]&&t.push(n[r]);return t},castInput:function(n){return n},tokenize:function(n){return n.split("")},join:function(n){return n.join("")}};function pn(e,n,t,r,o){for(var a=[],s;n;)a.push(n),s=n.previousComponent,delete n.previousComponent,n=s;a.reverse();for(var l=0,x=a.length,p=0,c=0;l<x;l++){var h=a[l];if(h.removed){if(h.value=e.join(r.slice(c,c+h.count)),c+=h.count,l&&a[l-1].added){var f=a[l-1];a[l-1]=a[l],a[l]=f}}else{if(!h.added&&o){var g=t.slice(p,p+h.count);g=g.map(function(B,D){var C=r[c+D];return C.length>B.length?C:B}),h.value=e.join(g)}else h.value=e.join(t.slice(p,p+h.count));p+=h.count,h.added||(c+=h.count)}}var A=a[x-1];return x>1&&typeof A.value=="string"&&(A.added||A.removed)&&e.equals("",A.value)&&(a[x-2].value+=A.value,a.pop()),a}var pt=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,ht=/\S/,Dt=new ke;Dt.equals=function(e,n){return this.options.ignoreCase&&(e=e.toLowerCase(),n=n.toLowerCase()),e===n||this.options.ignoreWhitespace&&!ht.test(e)&&!ht.test(n)};Dt.tokenize=function(e){for(var n=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),t=0;t<n.length-1;t++)!n[t+1]&&n[t+2]&&pt.test(n[t])&&pt.test(n[t+2])&&(n[t]+=n[t+2],n.splice(t+1,2),t--);return n};var Lt=new ke;Lt.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var n=[],t=e.split(/(\n|\r\n)/);t[t.length-1]||t.pop();for(var r=0;r<t.length;r++){var o=t[r];r%2&&!this.options.newlineIsToken?n[n.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),n.push(o))}return n};var hn=new ke;hn.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var fn=new ke;fn.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function De(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?De=function(n){return typeof n}:De=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},De(e)}var dn=Object.prototype.toString,Me=new ke;Me.useLongestToken=!0;Me.tokenize=Lt.tokenize;Me.castInput=function(e){var n=this.options,t=n.undefinedReplacement,r=n.stringifyReplacer,o=r===void 0?function(a,s){return typeof s>"u"?t:s}:r;return typeof e=="string"?e:JSON.stringify(We(e,null,null,o),o,"  ")};Me.equals=function(e,n){return ke.prototype.equals.call(Me,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};function We(e,n,t,r,o){n=n||[],t=t||[],r&&(e=r(o,e));var a;for(a=0;a<n.length;a+=1)if(n[a]===e)return t[a];var s;if(dn.call(e)==="[object Array]"){for(n.push(e),s=new Array(e.length),t.push(s),a=0;a<e.length;a+=1)s[a]=We(e[a],n,t,r,o);return n.pop(),t.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),De(e)==="object"&&e!==null){n.push(e),s={},t.push(s);var l=[],x;for(x in e)e.hasOwnProperty(x)&&l.push(x);for(l.sort(),a=0;a<l.length;a+=1)x=l[a],s[x]=We(e[x],n,t,r,x);n.pop(),t.pop()}else s=e;return s}var Qe=new ke;Qe.tokenize=function(e){return e.slice()};Qe.join=Qe.removeEmpty=function(e){return e};O.red,O.grey,O.green;O.dim().italic;O.dim("→");O.dim("·");O.dim("↵");function qe(e){e=e.replace(/\r?\n/g,`
`);let n=e.match(/^[ \t]*(?=\S)/gm),t=0,r=1/0,o=(n||[]).length;for(;t<o;t++)r=Math.min(r,n[t].length);return o&&r?e.replace(new RegExp(`^[ \\t]{${r}}`,"gm"),""):e}class mn extends Error{constructor(n={}){super(n.message),this.name="Assertion",this.code="ERR_ASSERTION",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.details=n.details||!1,this.generated=!!n.generated,this.operator=n.operator,this.expects=n.expects,this.actual=n.actual}}function ae(e,n,t,r,o,a,s){if(e)return;let l=s||a;if(s instanceof Error)throw s;let x=o&&o(n,t);throw new mn({actual:n,expects:t,operator:r,message:l,details:x,generated:!s})}function k(e,n){ae(!!e,!1,!0,"ok",!1,"Expected value to be truthy",n)}function me(e,n){ae(!e,!0,!1,"not",!1,"Expected value to be falsey",n)}me.ok=me;me.equal=function(e,n,t){ae(!Be(e,n),e,n,"not.equal",!1,"Expected values not to be deeply equal",t)};me.type=function(e,n,t){let r=typeof e;ae(r!==n,r,n,"not.type",!1,`Expected "${r}" not to be "${n}"`,t)};me.instance=function(e,n,t){let r="`"+(n.name||n.constructor.name)+"`";ae(!(e instanceof n),e,n,"not.instance",!1,`Expected value not to be an instance of ${r}`,t)};me.snapshot=function(e,n,t){e=qe(e),n=qe(n),ae(e!==n,e,n,"not.snapshot",!1,"Expected value not to match snapshot",t)};me.fixture=function(e,n,t){e=qe(e),n=qe(n),ae(e!==n,e,n,"not.fixture",!1,"Expected value not to match fixture",t)};me.match=function(e,n,t){typeof n=="string"?ae(!e.includes(n),e,n,"not.match",!1,`Expected value not to include "${n}" substring`,t):ae(!n.test(e),e,n,"not.match",!1,`Expected value not to match \`${String(n)}\` pattern`,t)};me.throws=function(e,n,t){!t&&typeof n=="string"&&(t=n,n=null);try{e()}catch(r){typeof n=="function"?ae(!n(r),!0,!1,"not.throws",!1,"Expected function not to throw matching exception",t):n instanceof RegExp?ae(!n.test(r.message),!0,!1,"not.throws",!1,`Expected function not to throw exception matching \`${String(n)}\` pattern`,t):n||ae(!1,!0,!1,"not.throws",!1,"Expected function not to throw",t)}};const gn={};function xn(e,n){const t=n||gn,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,o=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return Ot(e,r,o)}function Ot(e,n,t){if(kn(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return ft(e.children,n,t)}return Array.isArray(e)?ft(e,n,t):""}function ft(e,n,t){const r=[];let o=-1;for(;++o<e.length;)r[o]=Ot(e[o],n,t);return r.join("")}function kn(e){return!!(e&&typeof e=="object")}const F={attentionSideBefore:1,attentionSideAfter:2,atxHeadingOpeningFenceSizeMax:6,autolinkDomainSizeMax:63,autolinkSchemeSizeMax:32,cdataOpeningString:"CDATA[",characterGroupWhitespace:1,characterGroupPunctuation:2,characterReferenceDecimalSizeMax:7,characterReferenceHexadecimalSizeMax:6,characterReferenceNamedSizeMax:31,codeFencedSequenceSizeMin:3,contentTypeDocument:"document",contentTypeFlow:"flow",contentTypeContent:"content",contentTypeString:"string",contentTypeText:"text",hardBreakPrefixSizeMin:2,htmlRaw:1,htmlComment:2,htmlInstruction:3,htmlDeclaration:4,htmlCdata:5,htmlBasic:6,htmlComplete:7,htmlRawSizeMax:8,linkResourceDestinationBalanceMax:32,linkReferenceSizeMax:999,listItemValueSizeMax:10,numericBaseDecimal:10,numericBaseHexadecimal:16,tabSize:4,thematicBreakMarkerCountMin:3,v8MaxSafeChunkSize:1e4};function le(e,n,t,r){const o=e.length;let a=0,s;if(n<0?n=-n>o?0:o+n:n=n>o?o:n,t=t>0?t:0,r.length<F.v8MaxSafeChunkSize)s=Array.from(r),s.unshift(n,t),e.splice(...s);else for(t&&e.splice(n,t);a<r.length;)s=r.slice(a,a+F.v8MaxSafeChunkSize),s.unshift(n,0),e.splice(...s),a+=F.v8MaxSafeChunkSize,n+=F.v8MaxSafeChunkSize}function ie(e,n){return e.length>0?(le(e,e.length,0,n),e):n}const dt={}.hasOwnProperty;function bn(e){const n={};let t=-1;for(;++t<e.length;)yn(n,e[t]);return n}function yn(e,n){let t;for(t in n){const o=(dt.call(e,t)?e[t]:void 0)||(e[t]={}),a=n[t];let s;if(a)for(s in a){dt.call(o,s)||(o[s]=[]);const l=a[s];Sn(o[s],Array.isArray(l)?l:l?[l]:[])}}}function Sn(e,n){let t=-1;const r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);le(e,0,0,r)}const u={carriageReturn:-5,lineFeed:-4,carriageReturnLineFeed:-3,horizontalTab:-2,virtualSpace:-1,eof:null,nul:0,soh:1,stx:2,etx:3,eot:4,enq:5,ack:6,bel:7,bs:8,ht:9,lf:10,vt:11,ff:12,cr:13,so:14,si:15,dle:16,dc1:17,dc2:18,dc3:19,dc4:20,nak:21,syn:22,etb:23,can:24,em:25,sub:26,esc:27,fs:28,gs:29,rs:30,us:31,space:32,exclamationMark:33,quotationMark:34,numberSign:35,dollarSign:36,percentSign:37,ampersand:38,apostrophe:39,leftParenthesis:40,rightParenthesis:41,asterisk:42,plusSign:43,comma:44,dash:45,dot:46,slash:47,digit0:48,digit1:49,digit2:50,digit3:51,digit4:52,digit5:53,digit6:54,digit7:55,digit8:56,digit9:57,colon:58,semicolon:59,lessThan:60,equalsTo:61,greaterThan:62,questionMark:63,atSign:64,uppercaseA:65,uppercaseB:66,uppercaseC:67,uppercaseD:68,uppercaseE:69,uppercaseF:70,uppercaseG:71,uppercaseH:72,uppercaseI:73,uppercaseJ:74,uppercaseK:75,uppercaseL:76,uppercaseM:77,uppercaseN:78,uppercaseO:79,uppercaseP:80,uppercaseQ:81,uppercaseR:82,uppercaseS:83,uppercaseT:84,uppercaseU:85,uppercaseV:86,uppercaseW:87,uppercaseX:88,uppercaseY:89,uppercaseZ:90,leftSquareBracket:91,backslash:92,rightSquareBracket:93,caret:94,underscore:95,graveAccent:96,lowercaseA:97,lowercaseB:98,lowercaseC:99,lowercaseD:100,lowercaseE:101,lowercaseF:102,lowercaseG:103,lowercaseH:104,lowercaseI:105,lowercaseJ:106,lowercaseK:107,lowercaseL:108,lowercaseM:109,lowercaseN:110,lowercaseO:111,lowercaseP:112,lowercaseQ:113,lowercaseR:114,lowercaseS:115,lowercaseT:116,lowercaseU:117,lowercaseV:118,lowercaseW:119,lowercaseX:120,lowercaseY:121,lowercaseZ:122,leftCurlyBrace:123,verticalBar:124,rightCurlyBrace:125,tilde:126,del:127,byteOrderMarker:65279,replacementCharacter:65533},Cn=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,se=be(/[A-Za-z]/),ue=be(/[\dA-Za-z]/),wn=be(/[#-'*+\--9=?A-Z^-~]/);function Ue(e){return e!==null&&(e<u.space||e===u.del)}const $e=be(/\d/),Fn=be(/[\dA-Fa-f]/),Tn=be(/[!-/:-@[-`{-~]/);function E(e){return e!==null&&e<u.horizontalTab}function ee(e){return e!==null&&(e<u.nul||e===u.space)}function R(e){return e===u.horizontalTab||e===u.virtualSpace||e===u.space}const En=be(Cn),zn=be(/\s/);function be(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function W(e,n,t,r){const o=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(x){return R(x)?(e.enter(t),l(x)):n(x)}function l(x){return R(x)&&a++<o?(e.consume(x),l):(e.exit(t),n(x))}}const i={data:"data",whitespace:"whitespace",lineEnding:"lineEnding",lineEndingBlank:"lineEndingBlank",linePrefix:"linePrefix",lineSuffix:"lineSuffix",atxHeading:"atxHeading",atxHeadingSequence:"atxHeadingSequence",atxHeadingText:"atxHeadingText",autolink:"autolink",autolinkEmail:"autolinkEmail",autolinkMarker:"autolinkMarker",autolinkProtocol:"autolinkProtocol",characterEscape:"characterEscape",characterEscapeValue:"characterEscapeValue",characterReference:"characterReference",characterReferenceMarker:"characterReferenceMarker",characterReferenceMarkerNumeric:"characterReferenceMarkerNumeric",characterReferenceMarkerHexadecimal:"characterReferenceMarkerHexadecimal",characterReferenceValue:"characterReferenceValue",codeFenced:"codeFenced",codeFencedFence:"codeFencedFence",codeFencedFenceSequence:"codeFencedFenceSequence",codeFencedFenceInfo:"codeFencedFenceInfo",codeFencedFenceMeta:"codeFencedFenceMeta",codeFlowValue:"codeFlowValue",codeIndented:"codeIndented",codeText:"codeText",codeTextData:"codeTextData",codeTextPadding:"codeTextPadding",codeTextSequence:"codeTextSequence",content:"content",definition:"definition",definitionDestination:"definitionDestination",definitionDestinationLiteral:"definitionDestinationLiteral",definitionDestinationLiteralMarker:"definitionDestinationLiteralMarker",definitionDestinationRaw:"definitionDestinationRaw",definitionDestinationString:"definitionDestinationString",definitionLabel:"definitionLabel",definitionLabelMarker:"definitionLabelMarker",definitionLabelString:"definitionLabelString",definitionMarker:"definitionMarker",definitionTitle:"definitionTitle",definitionTitleMarker:"definitionTitleMarker",definitionTitleString:"definitionTitleString",emphasis:"emphasis",emphasisSequence:"emphasisSequence",emphasisText:"emphasisText",escapeMarker:"escapeMarker",hardBreakEscape:"hardBreakEscape",hardBreakTrailing:"hardBreakTrailing",htmlFlow:"htmlFlow",htmlFlowData:"htmlFlowData",htmlText:"htmlText",htmlTextData:"htmlTextData",image:"image",label:"label",labelText:"labelText",labelLink:"labelLink",labelImage:"labelImage",labelMarker:"labelMarker",labelImageMarker:"labelImageMarker",labelEnd:"labelEnd",link:"link",paragraph:"paragraph",reference:"reference",referenceMarker:"referenceMarker",referenceString:"referenceString",resource:"resource",resourceDestination:"resourceDestination",resourceDestinationLiteral:"resourceDestinationLiteral",resourceDestinationLiteralMarker:"resourceDestinationLiteralMarker",resourceDestinationRaw:"resourceDestinationRaw",resourceDestinationString:"resourceDestinationString",resourceMarker:"resourceMarker",resourceTitle:"resourceTitle",resourceTitleMarker:"resourceTitleMarker",resourceTitleString:"resourceTitleString",setextHeading:"setextHeading",setextHeadingText:"setextHeadingText",setextHeadingLine:"setextHeadingLine",setextHeadingLineSequence:"setextHeadingLineSequence",strong:"strong",strongSequence:"strongSequence",strongText:"strongText",thematicBreak:"thematicBreak",thematicBreakSequence:"thematicBreakSequence",blockQuote:"blockQuote",blockQuotePrefix:"blockQuotePrefix",blockQuoteMarker:"blockQuoteMarker",blockQuotePrefixWhitespace:"blockQuotePrefixWhitespace",listOrdered:"listOrdered",listUnordered:"listUnordered",listItemIndent:"listItemIndent",listItemMarker:"listItemMarker",listItemPrefix:"listItemPrefix",listItemPrefixWhitespace:"listItemPrefixWhitespace",listItemValue:"listItemValue",chunkDocument:"chunkDocument",chunkContent:"chunkContent",chunkFlow:"chunkFlow",chunkText:"chunkText",chunkString:"chunkString"},An={tokenize:Bn};function Bn(e){const n=e.attempt(this.parser.constructs.contentInitial,r,o);let t;return n;function r(l){if(k(l===u.eof||E(l),"expected eol or eof"),l===u.eof){e.consume(l);return}return e.enter(i.lineEnding),e.consume(l),e.exit(i.lineEnding),W(e,n,i.linePrefix)}function o(l){return k(l!==u.eof&&!E(l),"expected anything other than a line ending or EOF"),e.enter(i.paragraph),a(l)}function a(l){const x=e.enter(i.chunkText,{contentType:F.contentTypeText,previous:t});return t&&(t.next=x),t=x,s(l)}function s(l){if(l===u.eof){e.exit(i.chunkText),e.exit(i.paragraph),e.consume(l);return}return E(l)?(e.consume(l),e.exit(i.chunkText),a):(e.consume(l),s)}}const In={tokenize:Mn},mt={tokenize:Dn};function Mn(e){const n=this,t=[];let r=0,o,a,s;return l;function l(z){if(r<t.length){const I=t[r];return n.containerState=I[1],k(I[0].continuation,"expected `continuation` to be defined on container construct"),e.attempt(I[0].continuation,x,p)(z)}return p(z)}function x(z){if(k(n.containerState,"expected `containerState` to be defined after continuation"),r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,o&&_();const I=n.events.length;let P=I,S;for(;P--;)if(n.events[P][0]==="exit"&&n.events[P][1].type===i.chunkFlow){S=n.events[P][1].end;break}k(S,"could not find previous flow chunk"),C(r);let q=I;for(;q<n.events.length;)n.events[q][1].end=Object.assign({},S),q++;return le(n.events,P+1,0,n.events.slice(I)),n.events.length=q,p(z)}return l(z)}function p(z){if(r===t.length){if(!o)return g(z);if(o.currentConstruct&&o.currentConstruct.concrete)return A(z);n.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(mt,c,h)(z)}function c(z){return o&&_(),C(r),g(z)}function h(z){return n.parser.lazy[n.now().line]=r!==t.length,s=n.now().offset,A(z)}function g(z){return n.containerState={},e.attempt(mt,f,A)(z)}function f(z){return k(n.currentConstruct,"expected `currentConstruct` to be defined on tokenizer"),k(n.containerState,"expected `containerState` to be defined on tokenizer"),r++,t.push([n.currentConstruct,n.containerState]),g(z)}function A(z){if(z===u.eof){o&&_(),C(0),e.consume(z);return}return o=o||n.parser.flow(n.now()),e.enter(i.chunkFlow,{contentType:F.contentTypeFlow,previous:a,_tokenizer:o}),B(z)}function B(z){if(z===u.eof){D(e.exit(i.chunkFlow),!0),C(0),e.consume(z);return}return E(z)?(e.consume(z),D(e.exit(i.chunkFlow)),r=0,n.interrupt=void 0,l):(e.consume(z),B)}function D(z,I){k(o,"expected `childFlow` to be defined when continuing");const P=n.sliceStream(z);if(I&&P.push(null),z.previous=a,a&&(a.next=z),a=z,o.defineSkip(z.start),o.write(P),n.parser.lazy[z.start.line]){let S=o.events.length;for(;S--;)if(o.events[S][1].start.offset<s&&(!o.events[S][1].end||o.events[S][1].end.offset>s))return;const q=n.events.length;let N=q,Q,Y;for(;N--;)if(n.events[N][0]==="exit"&&n.events[N][1].type===i.chunkFlow){if(Q){Y=n.events[N][1].end;break}Q=!0}for(k(Y,"could not find previous flow chunk"),C(r),S=q;S<n.events.length;)n.events[S][1].end=Object.assign({},Y),S++;le(n.events,N+1,0,n.events.slice(q)),n.events.length=S}}function C(z){let I=t.length;for(;I-- >z;){const P=t[I];n.containerState=P[1],k(P[0].exit,"expected `exit` to be defined on container construct"),P[0].exit.call(n,e)}t.length=z}function _(){k(n.containerState,"expected `containerState` to be defined when closing flow"),k(o,"expected `childFlow` to be defined when closing it"),o.write([u.eof]),a=void 0,o=void 0,n.containerState._closeFlow=void 0}}function Dn(e,n,t){return k(this.parser.constructs.disable.null,"expected `disable.null` to be populated"),W(e,e.attempt(this.parser.constructs.document,n,t),i.linePrefix,this.parser.constructs.disable.null.includes("codeIndented")?void 0:F.tabSize)}function gt(e){if(e===u.eof||ee(e)||zn(e))return F.characterGroupWhitespace;if(En(e))return F.characterGroupPunctuation}function Xe(e,n,t){const r=[];let o=-1;for(;++o<e.length;){const a=e[o].resolveAll;a&&!r.includes(a)&&(n=a(n,t),r.push(a))}return n}const Ge={name:"attention",tokenize:On,resolveAll:Ln};function Ln(e,n){let t=-1,r,o,a,s,l,x,p,c;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;x=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const h=Object.assign({},e[r][1].end),g=Object.assign({},e[t][1].start);xt(h,-x),xt(g,x),s={type:x>1?i.strongSequence:i.emphasisSequence,start:h,end:Object.assign({},e[r][1].end)},l={type:x>1?i.strongSequence:i.emphasisSequence,start:Object.assign({},e[t][1].start),end:g},a={type:x>1?i.strongText:i.emphasisText,start:Object.assign({},e[r][1].end),end:Object.assign({},e[t][1].start)},o={type:x>1?i.strong:i.emphasis,start:Object.assign({},s.start),end:Object.assign({},l.end)},e[r][1].end=Object.assign({},s.start),e[t][1].start=Object.assign({},l.end),p=[],e[r][1].end.offset-e[r][1].start.offset&&(p=ie(p,[["enter",e[r][1],n],["exit",e[r][1],n]])),p=ie(p,[["enter",o,n],["enter",s,n],["exit",s,n],["enter",a,n]]),k(n.parser.constructs.insideSpan.null,"expected `insideSpan` to be populated"),p=ie(p,Xe(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),p=ie(p,[["exit",a,n],["enter",l,n],["exit",l,n],["exit",o,n]]),e[t][1].end.offset-e[t][1].start.offset?(c=2,p=ie(p,[["enter",e[t][1],n],["exit",e[t][1],n]])):c=0,le(e,r-1,t-r+3,p),t=r+p.length-c-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function On(e,n){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,o=gt(r);let a;return s;function s(x){return k(x===u.asterisk||x===u.underscore,"expected asterisk or underscore"),a=x,e.enter("attentionSequence"),l(x)}function l(x){if(x===a)return e.consume(x),l;const p=e.exit("attentionSequence"),c=gt(x);k(t,"expected `attentionMarkers` to be populated");const h=!c||c===F.characterGroupPunctuation&&o||t.includes(x),g=!o||o===F.characterGroupPunctuation&&c||t.includes(r);return p._open=!!(a===u.asterisk?h:h&&(o||!g)),p._close=!!(a===u.asterisk?g:g&&(c||!h)),n(x)}}function xt(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const qn={name:"autolink",tokenize:vn};function vn(e,n,t){let r=0;return o;function o(f){return k(f===u.lessThan,"expected `<`"),e.enter(i.autolink),e.enter(i.autolinkMarker),e.consume(f),e.exit(i.autolinkMarker),e.enter(i.autolinkProtocol),a}function a(f){return se(f)?(e.consume(f),s):p(f)}function s(f){return f===u.plusSign||f===u.dash||f===u.dot||ue(f)?(r=1,l(f)):p(f)}function l(f){return f===u.colon?(e.consume(f),r=0,x):(f===u.plusSign||f===u.dash||f===u.dot||ue(f))&&r++<F.autolinkSchemeSizeMax?(e.consume(f),l):(r=0,p(f))}function x(f){return f===u.greaterThan?(e.exit(i.autolinkProtocol),e.enter(i.autolinkMarker),e.consume(f),e.exit(i.autolinkMarker),e.exit(i.autolink),n):f===u.eof||f===u.space||f===u.lessThan||Ue(f)?t(f):(e.consume(f),x)}function p(f){return f===u.atSign?(e.consume(f),c):wn(f)?(e.consume(f),p):t(f)}function c(f){return ue(f)?h(f):t(f)}function h(f){return f===u.dot?(e.consume(f),r=0,c):f===u.greaterThan?(e.exit(i.autolinkProtocol).type=i.autolinkEmail,e.enter(i.autolinkMarker),e.consume(f),e.exit(i.autolinkMarker),e.exit(i.autolink),n):g(f)}function g(f){if((f===u.dash||ue(f))&&r++<F.autolinkDomainSizeMax){const A=f===u.dash?g:h;return e.consume(f),A}return t(f)}}const ve={tokenize:Pn,partial:!0};function Pn(e,n,t){return r;function r(a){return R(a)?W(e,o,i.linePrefix)(a):o(a)}function o(a){return a===u.eof||E(a)?n(a):t(a)}}const qt={name:"blockQuote",tokenize:Rn,continuation:{tokenize:_n},exit:Hn};function Rn(e,n,t){const r=this;return o;function o(s){if(s===u.greaterThan){const l=r.containerState;return k(l,"expected `containerState` to be defined in container"),l.open||(e.enter(i.blockQuote,{_container:!0}),l.open=!0),e.enter(i.blockQuotePrefix),e.enter(i.blockQuoteMarker),e.consume(s),e.exit(i.blockQuoteMarker),a}return t(s)}function a(s){return R(s)?(e.enter(i.blockQuotePrefixWhitespace),e.consume(s),e.exit(i.blockQuotePrefixWhitespace),e.exit(i.blockQuotePrefix),n):(e.exit(i.blockQuotePrefix),n(s))}}function _n(e,n,t){const r=this;return o;function o(s){return R(s)?(k(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),W(e,a,i.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:F.tabSize)(s)):a(s)}function a(s){return e.attempt(qt,n,t)(s)}}function Hn(e){e.exit(i.blockQuote)}const vt={name:"characterEscape",tokenize:jn};function jn(e,n,t){return r;function r(a){return k(a===u.backslash,"expected `\\`"),e.enter(i.characterEscape),e.enter(i.escapeMarker),e.consume(a),e.exit(i.escapeMarker),o}function o(a){return Tn(a)?(e.enter(i.characterEscapeValue),e.consume(a),e.exit(i.characterEscapeValue),e.exit(i.characterEscape),n):t(a)}}const kt=document.createElement("i");function Ke(e){const n="&"+e+";";kt.innerHTML=n;const t=kt.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}const Pt={name:"characterReference",tokenize:Nn};function Nn(e,n,t){const r=this;let o=0,a,s;return l;function l(h){return k(h===u.ampersand,"expected `&`"),e.enter(i.characterReference),e.enter(i.characterReferenceMarker),e.consume(h),e.exit(i.characterReferenceMarker),x}function x(h){return h===u.numberSign?(e.enter(i.characterReferenceMarkerNumeric),e.consume(h),e.exit(i.characterReferenceMarkerNumeric),p):(e.enter(i.characterReferenceValue),a=F.characterReferenceNamedSizeMax,s=ue,c(h))}function p(h){return h===u.uppercaseX||h===u.lowercaseX?(e.enter(i.characterReferenceMarkerHexadecimal),e.consume(h),e.exit(i.characterReferenceMarkerHexadecimal),e.enter(i.characterReferenceValue),a=F.characterReferenceHexadecimalSizeMax,s=Fn,c):(e.enter(i.characterReferenceValue),a=F.characterReferenceDecimalSizeMax,s=$e,c(h))}function c(h){if(h===u.semicolon&&o){const g=e.exit(i.characterReferenceValue);return s===ue&&!Ke(r.sliceSerialize(g))?t(h):(e.enter(i.characterReferenceMarker),e.consume(h),e.exit(i.characterReferenceMarker),e.exit(i.characterReference),n)}return s(h)&&o++<a?(e.consume(h),c):t(h)}}const bt={tokenize:Wn,partial:!0},yt={name:"codeFenced",tokenize:Vn,concrete:!0};function Vn(e,n,t){const r=this,o={tokenize:P,partial:!0};let a=0,s=0,l;return x;function x(S){return p(S)}function p(S){k(S===u.graveAccent||S===u.tilde,"expected `` ` `` or `~`");const q=r.events[r.events.length-1];return a=q&&q[1].type===i.linePrefix?q[2].sliceSerialize(q[1],!0).length:0,l=S,e.enter(i.codeFenced),e.enter(i.codeFencedFence),e.enter(i.codeFencedFenceSequence),c(S)}function c(S){return S===l?(s++,e.consume(S),c):s<F.codeFencedSequenceSizeMin?t(S):(e.exit(i.codeFencedFenceSequence),R(S)?W(e,h,i.whitespace)(S):h(S))}function h(S){return S===u.eof||E(S)?(e.exit(i.codeFencedFence),r.interrupt?n(S):e.check(bt,B,I)(S)):(e.enter(i.codeFencedFenceInfo),e.enter(i.chunkString,{contentType:F.contentTypeString}),g(S))}function g(S){return S===u.eof||E(S)?(e.exit(i.chunkString),e.exit(i.codeFencedFenceInfo),h(S)):R(S)?(e.exit(i.chunkString),e.exit(i.codeFencedFenceInfo),W(e,f,i.whitespace)(S)):S===u.graveAccent&&S===l?t(S):(e.consume(S),g)}function f(S){return S===u.eof||E(S)?h(S):(e.enter(i.codeFencedFenceMeta),e.enter(i.chunkString,{contentType:F.contentTypeString}),A(S))}function A(S){return S===u.eof||E(S)?(e.exit(i.chunkString),e.exit(i.codeFencedFenceMeta),h(S)):S===u.graveAccent&&S===l?t(S):(e.consume(S),A)}function B(S){return k(E(S),"expected eol"),e.attempt(o,I,D)(S)}function D(S){return k(E(S),"expected eol"),e.enter(i.lineEnding),e.consume(S),e.exit(i.lineEnding),C}function C(S){return a>0&&R(S)?W(e,_,i.linePrefix,a+1)(S):_(S)}function _(S){return S===u.eof||E(S)?e.check(bt,B,I)(S):(e.enter(i.codeFlowValue),z(S))}function z(S){return S===u.eof||E(S)?(e.exit(i.codeFlowValue),_(S)):(e.consume(S),z)}function I(S){return e.exit(i.codeFenced),n(S)}function P(S,q,N){let Q=0;return Y;function Y(L){return k(E(L),"expected eol"),S.enter(i.lineEnding),S.consume(L),S.exit(i.lineEnding),$}function $(L){return k(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),S.enter(i.codeFencedFence),R(L)?W(S,v,i.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:F.tabSize)(L):v(L)}function v(L){return L===l?(S.enter(i.codeFencedFenceSequence),T(L)):N(L)}function T(L){return L===l?(Q++,S.consume(L),T):Q>=s?(S.exit(i.codeFencedFenceSequence),R(L)?W(S,M,i.whitespace)(L):M(L)):N(L)}function M(L){return L===u.eof||E(L)?(S.exit(i.codeFencedFence),q(L)):N(L)}}}function Wn(e,n,t){const r=this;return o;function o(s){return s===u.eof?t(s):(k(E(s),"expected eol"),e.enter(i.lineEnding),e.consume(s),e.exit(i.lineEnding),a)}function a(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}const He={name:"codeIndented",tokenize:Un},Qn={tokenize:$n,partial:!0};function Un(e,n,t){const r=this;return o;function o(p){return k(R(p)),e.enter(i.codeIndented),W(e,a,i.linePrefix,F.tabSize+1)(p)}function a(p){const c=r.events[r.events.length-1];return c&&c[1].type===i.linePrefix&&c[2].sliceSerialize(c[1],!0).length>=F.tabSize?s(p):t(p)}function s(p){return p===u.eof?x(p):E(p)?e.attempt(Qn,s,x)(p):(e.enter(i.codeFlowValue),l(p))}function l(p){return p===u.eof||E(p)?(e.exit(i.codeFlowValue),s(p)):(e.consume(p),l)}function x(p){return e.exit(i.codeIndented),n(p)}}function $n(e,n,t){const r=this;return o;function o(s){return r.parser.lazy[r.now().line]?t(s):E(s)?(e.enter(i.lineEnding),e.consume(s),e.exit(i.lineEnding),o):W(e,a,i.linePrefix,F.tabSize+1)(s)}function a(s){const l=r.events[r.events.length-1];return l&&l[1].type===i.linePrefix&&l[2].sliceSerialize(l[1],!0).length>=F.tabSize?n(s):E(s)?o(s):t(s)}}const Gn={name:"codeText",tokenize:Jn,resolve:Yn,previous:Rt};function Yn(e){let n=e.length-4,t=3,r,o;if((e[t][1].type===i.lineEnding||e[t][1].type==="space")&&(e[n][1].type===i.lineEnding||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type===i.codeTextData){e[t][1].type=i.codeTextPadding,e[n][1].type=i.codeTextPadding,t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)o===void 0?r!==n&&e[r][1].type!==i.lineEnding&&(o=r):(r===n||e[r][1].type===i.lineEnding)&&(e[o][1].type=i.codeTextData,r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),n-=r-o-2,r=o+2),o=void 0);return e}function Rt(e){return e!==u.graveAccent||this.events[this.events.length-1][1].type===i.characterEscape}function Jn(e,n,t){const r=this;let o=0,a,s;return l;function l(g){return k(g===u.graveAccent,"expected `` ` ``"),k(Rt.call(r,r.previous),"expected correct previous"),e.enter(i.codeText),e.enter(i.codeTextSequence),x(g)}function x(g){return g===u.graveAccent?(e.consume(g),o++,x):(e.exit(i.codeTextSequence),p(g))}function p(g){return g===u.eof?t(g):g===u.space?(e.enter("space"),e.consume(g),e.exit("space"),p):g===u.graveAccent?(s=e.enter(i.codeTextSequence),a=0,h(g)):E(g)?(e.enter(i.lineEnding),e.consume(g),e.exit(i.lineEnding),p):(e.enter(i.codeTextData),c(g))}function c(g){return g===u.eof||g===u.space||g===u.graveAccent||E(g)?(e.exit(i.codeTextData),p(g)):(e.consume(g),c)}function h(g){return g===u.graveAccent?(e.consume(g),a++,h):a===o?(e.exit(i.codeTextSequence),e.exit(i.codeText),n(g)):(s.type=i.codeTextData,c(g))}}function _t(e){const n={};let t=-1,r,o,a,s,l,x,p;for(;++t<e.length;){for(;t in n;)t=n[t];if(r=e[t],t&&r[1].type===i.chunkFlow&&e[t-1][1].type===i.listItemPrefix&&(k(r[1]._tokenizer,"expected `_tokenizer` on subtokens"),x=r[1]._tokenizer.events,a=0,a<x.length&&x[a][1].type===i.lineEndingBlank&&(a+=2),a<x.length&&x[a][1].type===i.content))for(;++a<x.length&&x[a][1].type!==i.content;)x[a][1].type===i.chunkText&&(x[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,Zn(e,t)),t=n[t],p=!0);else if(r[1]._container){for(a=t,o=void 0;a--&&(s=e[a],s[1].type===i.lineEnding||s[1].type===i.lineEndingBlank);)s[0]==="enter"&&(o&&(e[o][1].type=i.lineEndingBlank),s[1].type=i.lineEnding,o=a);o&&(r[1].end=Object.assign({},e[o][1].start),l=e.slice(o,t),l.unshift(r),le(e,o,t-o+1,l))}}return!p}function Zn(e,n){const t=e[n][1],r=e[n][2];let o=n-1;const a=[];k(t.contentType,"expected `contentType` on subtokens");const s=t._tokenizer||r.parser[t.contentType](t.start),l=s.events,x=[],p={};let c,h,g=-1,f=t,A=0,B=0;const D=[B];for(;f;){for(;e[++o][1]!==f;);k(!h||f.previous===h,"expected previous to match"),k(!h||h.next===f,"expected next to match"),a.push(o),f._tokenizer||(c=r.sliceStream(f),f.next||c.push(u.eof),h&&s.defineSkip(f.start),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=t;++g<l.length;)l[g][0]==="exit"&&l[g-1][0]==="enter"&&l[g][1].type===l[g-1][1].type&&l[g][1].start.line!==l[g][1].end.line&&(k(f,"expected a current token"),B=g+1,D.push(B),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(s.events=[],f?(f._tokenizer=void 0,f.previous=void 0,k(!f.next,"expected no next token")):D.pop(),g=D.length;g--;){const C=l.slice(D[g],D[g+1]),_=a.pop();k(_!==void 0,"expected a start position when splicing"),x.unshift([_,_+C.length-1]),le(e,_,2,C)}for(g=-1;++g<x.length;)p[A+x[g][0]]=A+x[g][1],A+=x[g][1]-x[g][0]-1;return p}const Xn={tokenize:tr,resolve:er},Kn={tokenize:nr,partial:!0};function er(e){return _t(e),e}function tr(e,n){let t;return r;function r(l){return k(l!==u.eof&&!E(l),"expected no eof or eol"),e.enter(i.content),t=e.enter(i.chunkContent,{contentType:F.contentTypeContent}),o(l)}function o(l){return l===u.eof?a(l):E(l)?e.check(Kn,s,a)(l):(e.consume(l),o)}function a(l){return e.exit(i.chunkContent),e.exit(i.content),n(l)}function s(l){return k(E(l),"expected eol"),e.consume(l),e.exit(i.chunkContent),k(t,"expected previous token"),t.next=e.enter(i.chunkContent,{contentType:F.contentTypeContent,previous:t}),t=t.next,o}}function nr(e,n,t){const r=this;return o;function o(s){return k(E(s),"expected a line ending"),e.exit(i.chunkContent),e.enter(i.lineEnding),e.consume(s),e.exit(i.lineEnding),W(e,a,i.linePrefix)}function a(s){if(s===u.eof||E(s))return t(s);k(r.parser.constructs.disable.null,"expected `disable.null` to be populated");const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type===i.linePrefix&&l[2].sliceSerialize(l[1],!0).length>=F.tabSize?n(s):e.interrupt(r.parser.constructs.flow,t,n)(s)}}function Ht(e,n,t,r,o,a,s,l,x){const p=x||Number.POSITIVE_INFINITY;let c=0;return h;function h(C){return C===u.lessThan?(e.enter(r),e.enter(o),e.enter(a),e.consume(C),e.exit(a),g):C===u.eof||C===u.space||C===u.rightParenthesis||Ue(C)?t(C):(e.enter(r),e.enter(s),e.enter(l),e.enter(i.chunkString,{contentType:F.contentTypeString}),B(C))}function g(C){return C===u.greaterThan?(e.enter(a),e.consume(C),e.exit(a),e.exit(o),e.exit(r),n):(e.enter(l),e.enter(i.chunkString,{contentType:F.contentTypeString}),f(C))}function f(C){return C===u.greaterThan?(e.exit(i.chunkString),e.exit(l),g(C)):C===u.eof||C===u.lessThan||E(C)?t(C):(e.consume(C),C===u.backslash?A:f)}function A(C){return C===u.lessThan||C===u.greaterThan||C===u.backslash?(e.consume(C),f):f(C)}function B(C){return!c&&(C===u.eof||C===u.rightParenthesis||ee(C))?(e.exit(i.chunkString),e.exit(l),e.exit(s),e.exit(r),n(C)):c<p&&C===u.leftParenthesis?(e.consume(C),c++,B):C===u.rightParenthesis?(e.consume(C),c--,B):C===u.eof||C===u.space||C===u.leftParenthesis||Ue(C)?t(C):(e.consume(C),C===u.backslash?D:B)}function D(C){return C===u.leftParenthesis||C===u.rightParenthesis||C===u.backslash?(e.consume(C),B):B(C)}}function jt(e,n,t,r,o,a){const s=this;let l=0,x;return p;function p(f){return k(f===u.leftSquareBracket,"expected `[`"),e.enter(r),e.enter(o),e.consume(f),e.exit(o),e.enter(a),c}function c(f){return l>F.linkReferenceSizeMax||f===u.eof||f===u.leftSquareBracket||f===u.rightSquareBracket&&!x||f===u.caret&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?t(f):f===u.rightSquareBracket?(e.exit(a),e.enter(o),e.consume(f),e.exit(o),e.exit(r),n):E(f)?(e.enter(i.lineEnding),e.consume(f),e.exit(i.lineEnding),c):(e.enter(i.chunkString,{contentType:F.contentTypeString}),h(f))}function h(f){return f===u.eof||f===u.leftSquareBracket||f===u.rightSquareBracket||E(f)||l++>F.linkReferenceSizeMax?(e.exit(i.chunkString),c(f)):(e.consume(f),x||(x=!R(f)),f===u.backslash?g:h)}function g(f){return f===u.leftSquareBracket||f===u.backslash||f===u.rightSquareBracket?(e.consume(f),l++,h):h(f)}}function Nt(e,n,t,r,o,a){let s;return l;function l(g){return g===u.quotationMark||g===u.apostrophe||g===u.leftParenthesis?(e.enter(r),e.enter(o),e.consume(g),e.exit(o),s=g===u.leftParenthesis?u.rightParenthesis:g,x):t(g)}function x(g){return g===s?(e.enter(o),e.consume(g),e.exit(o),e.exit(r),n):(e.enter(a),p(g))}function p(g){return g===s?(e.exit(a),x(s)):g===u.eof?t(g):E(g)?(e.enter(i.lineEnding),e.consume(g),e.exit(i.lineEnding),W(e,p,i.linePrefix)):(e.enter(i.chunkString,{contentType:F.contentTypeString}),c(g))}function c(g){return g===s||g===u.eof||E(g)?(e.exit(i.chunkString),p(g)):(e.consume(g),g===u.backslash?h:c)}function h(g){return g===s||g===u.backslash?(e.consume(g),c):c(g)}}function Ie(e,n){let t;return r;function r(o){return E(o)?(e.enter(i.lineEnding),e.consume(o),e.exit(i.lineEnding),t=!0,r):R(o)?W(e,r,t?i.linePrefix:i.lineSuffix)(o):n(o)}}const de={ht:"	",lf:`
`,cr:"\r",space:" ",exclamationMark:"!",quotationMark:'"',numberSign:"#",dollarSign:"$",percentSign:"%",ampersand:"&",apostrophe:"'",leftParenthesis:"(",rightParenthesis:")",asterisk:"*",plusSign:"+",comma:",",dash:"-",dot:".",slash:"/",digit0:"0",digit1:"1",digit2:"2",digit3:"3",digit4:"4",digit5:"5",digit6:"6",digit7:"7",digit8:"8",digit9:"9",colon:":",semicolon:";",lessThan:"<",equalsTo:"=",greaterThan:">",questionMark:"?",atSign:"@",uppercaseA:"A",uppercaseB:"B",uppercaseC:"C",uppercaseD:"D",uppercaseE:"E",uppercaseF:"F",uppercaseG:"G",uppercaseH:"H",uppercaseI:"I",uppercaseJ:"J",uppercaseK:"K",uppercaseL:"L",uppercaseM:"M",uppercaseN:"N",uppercaseO:"O",uppercaseP:"P",uppercaseQ:"Q",uppercaseR:"R",uppercaseS:"S",uppercaseT:"T",uppercaseU:"U",uppercaseV:"V",uppercaseW:"W",uppercaseX:"X",uppercaseY:"Y",uppercaseZ:"Z",leftSquareBracket:"[",backslash:"\\",rightSquareBracket:"]",caret:"^",underscore:"_",graveAccent:"`",lowercaseA:"a",lowercaseB:"b",lowercaseC:"c",lowercaseD:"d",lowercaseE:"e",lowercaseF:"f",lowercaseG:"g",lowercaseH:"h",lowercaseI:"i",lowercaseJ:"j",lowercaseK:"k",lowercaseL:"l",lowercaseM:"m",lowercaseN:"n",lowercaseO:"o",lowercaseP:"p",lowercaseQ:"q",lowercaseR:"r",lowercaseS:"s",lowercaseT:"t",lowercaseU:"u",lowercaseV:"v",lowercaseW:"w",lowercaseX:"x",lowercaseY:"y",lowercaseZ:"z",leftCurlyBrace:"{",verticalBar:"|",rightCurlyBrace:"}",tilde:"~",replacementCharacter:"�"};function Fe(e){return e.replace(/[\t\n\r ]+/g,de.space).replace(/^ | $/g,"").toLowerCase().toUpperCase()}const rr={name:"definition",tokenize:ar},ir={tokenize:ur,partial:!0};function ar(e,n,t){const r=this;let o;return a;function a(f){return e.enter(i.definition),s(f)}function s(f){return k(f===u.leftSquareBracket,"expected `[`"),jt.call(r,e,l,t,i.definitionLabel,i.definitionLabelMarker,i.definitionLabelString)(f)}function l(f){return o=Fe(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===u.colon?(e.enter(i.definitionMarker),e.consume(f),e.exit(i.definitionMarker),x):t(f)}function x(f){return ee(f)?Ie(e,p)(f):p(f)}function p(f){return Ht(e,c,t,i.definitionDestination,i.definitionDestinationLiteral,i.definitionDestinationLiteralMarker,i.definitionDestinationRaw,i.definitionDestinationString)(f)}function c(f){return e.attempt(ir,h,h)(f)}function h(f){return R(f)?W(e,g,i.whitespace)(f):g(f)}function g(f){return f===u.eof||E(f)?(e.exit(i.definition),r.parser.defined.push(o),n(f)):t(f)}}function ur(e,n,t){return r;function r(l){return ee(l)?Ie(e,o)(l):t(l)}function o(l){return Nt(e,a,t,i.definitionTitle,i.definitionTitleMarker,i.definitionTitleString)(l)}function a(l){return R(l)?W(e,s,i.whitespace)(l):s(l)}function s(l){return l===u.eof||E(l)?n(l):t(l)}}const or={name:"hardBreakEscape",tokenize:sr};function sr(e,n,t){return r;function r(a){return k(a===u.backslash,"expected `\\`"),e.enter(i.hardBreakEscape),e.consume(a),o}function o(a){return E(a)?(e.exit(i.hardBreakEscape),n(a)):t(a)}}const lr={name:"headingAtx",tokenize:pr,resolve:cr};function cr(e,n){let t=e.length-2,r=3,o,a;return e[r][1].type===i.whitespace&&(r+=2),t-2>r&&e[t][1].type===i.whitespace&&(t-=2),e[t][1].type===i.atxHeadingSequence&&(r===t-1||t-4>r&&e[t-2][1].type===i.whitespace)&&(t-=r+1===t?2:4),t>r&&(o={type:i.atxHeadingText,start:e[r][1].start,end:e[t][1].end},a={type:i.chunkText,start:e[r][1].start,end:e[t][1].end,contentType:F.contentTypeText},le(e,r,t-r+1,[["enter",o,n],["enter",a,n],["exit",a,n],["exit",o,n]])),e}function pr(e,n,t){let r=0;return o;function o(c){return e.enter(i.atxHeading),a(c)}function a(c){return k(c===u.numberSign,"expected `#`"),e.enter(i.atxHeadingSequence),s(c)}function s(c){return c===u.numberSign&&r++<F.atxHeadingOpeningFenceSizeMax?(e.consume(c),s):c===u.eof||ee(c)?(e.exit(i.atxHeadingSequence),l(c)):t(c)}function l(c){return c===u.numberSign?(e.enter(i.atxHeadingSequence),x(c)):c===u.eof||E(c)?(e.exit(i.atxHeading),n(c)):R(c)?W(e,l,i.whitespace)(c):(e.enter(i.atxHeadingText),p(c))}function x(c){return c===u.numberSign?(e.consume(c),x):(e.exit(i.atxHeadingSequence),l(c))}function p(c){return c===u.eof||c===u.numberSign||ee(c)?(e.exit(i.atxHeadingText),l(c)):(e.consume(c),p)}}const hr=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],St=["pre","script","style","textarea"],fr={name:"htmlFlow",tokenize:xr,resolveTo:gr,concrete:!0},dr={tokenize:br,partial:!0},mr={tokenize:kr,partial:!0};function gr(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type===i.htmlFlow););return n>1&&e[n-2][1].type===i.linePrefix&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function xr(e,n,t){const r=this;let o,a,s,l,x;return p;function p(m){return c(m)}function c(m){return k(m===u.lessThan,"expected `<`"),e.enter(i.htmlFlow),e.enter(i.htmlFlowData),e.consume(m),h}function h(m){return m===u.exclamationMark?(e.consume(m),g):m===u.slash?(e.consume(m),a=!0,B):m===u.questionMark?(e.consume(m),o=F.htmlInstruction,r.interrupt?n:d):se(m)?(e.consume(m),s=String.fromCharCode(m),D):t(m)}function g(m){return m===u.dash?(e.consume(m),o=F.htmlComment,f):m===u.leftSquareBracket?(e.consume(m),o=F.htmlCdata,l=0,A):se(m)?(e.consume(m),o=F.htmlDeclaration,r.interrupt?n:d):t(m)}function f(m){return m===u.dash?(e.consume(m),r.interrupt?n:d):t(m)}function A(m){const te=F.cdataOpeningString;return m===te.charCodeAt(l++)?(e.consume(m),l===te.length?r.interrupt?n:v:A):t(m)}function B(m){return se(m)?(e.consume(m),s=String.fromCharCode(m),D):t(m)}function D(m){if(m===u.eof||m===u.slash||m===u.greaterThan||ee(m)){const te=m===u.slash,Ce=s.toLowerCase();return!te&&!a&&St.includes(Ce)?(o=F.htmlRaw,r.interrupt?n(m):v(m)):hr.includes(s.toLowerCase())?(o=F.htmlBasic,te?(e.consume(m),C):r.interrupt?n(m):v(m)):(o=F.htmlComplete,r.interrupt&&!r.parser.lazy[r.now().line]?t(m):a?_(m):z(m))}return m===u.dash||ue(m)?(e.consume(m),s+=String.fromCharCode(m),D):t(m)}function C(m){return m===u.greaterThan?(e.consume(m),r.interrupt?n:v):t(m)}function _(m){return R(m)?(e.consume(m),_):Y(m)}function z(m){return m===u.slash?(e.consume(m),Y):m===u.colon||m===u.underscore||se(m)?(e.consume(m),I):R(m)?(e.consume(m),z):Y(m)}function I(m){return m===u.dash||m===u.dot||m===u.colon||m===u.underscore||ue(m)?(e.consume(m),I):P(m)}function P(m){return m===u.equalsTo?(e.consume(m),S):R(m)?(e.consume(m),P):z(m)}function S(m){return m===u.eof||m===u.lessThan||m===u.equalsTo||m===u.greaterThan||m===u.graveAccent?t(m):m===u.quotationMark||m===u.apostrophe?(e.consume(m),x=m,q):R(m)?(e.consume(m),S):N(m)}function q(m){return m===x?(e.consume(m),x=null,Q):m===u.eof||E(m)?t(m):(e.consume(m),q)}function N(m){return m===u.eof||m===u.quotationMark||m===u.apostrophe||m===u.slash||m===u.lessThan||m===u.equalsTo||m===u.greaterThan||m===u.graveAccent||ee(m)?P(m):(e.consume(m),N)}function Q(m){return m===u.slash||m===u.greaterThan||R(m)?z(m):t(m)}function Y(m){return m===u.greaterThan?(e.consume(m),$):t(m)}function $(m){return m===u.eof||E(m)?v(m):R(m)?(e.consume(m),$):t(m)}function v(m){return m===u.dash&&o===F.htmlComment?(e.consume(m),U):m===u.lessThan&&o===F.htmlRaw?(e.consume(m),J):m===u.greaterThan&&o===F.htmlDeclaration?(e.consume(m),re):m===u.questionMark&&o===F.htmlInstruction?(e.consume(m),d):m===u.rightSquareBracket&&o===F.htmlCdata?(e.consume(m),oe):E(m)&&(o===F.htmlBasic||o===F.htmlComplete)?(e.exit(i.htmlFlowData),e.check(dr,ce,T)(m)):m===u.eof||E(m)?(e.exit(i.htmlFlowData),T(m)):(e.consume(m),v)}function T(m){return e.check(mr,M,ce)(m)}function M(m){return k(E(m)),e.enter(i.lineEnding),e.consume(m),e.exit(i.lineEnding),L}function L(m){return m===u.eof||E(m)?T(m):(e.enter(i.htmlFlowData),v(m))}function U(m){return m===u.dash?(e.consume(m),d):v(m)}function J(m){return m===u.slash?(e.consume(m),s="",ne):v(m)}function ne(m){if(m===u.greaterThan){const te=s.toLowerCase();return St.includes(te)?(e.consume(m),re):v(m)}return se(m)&&s.length<F.htmlRawSizeMax?(e.consume(m),s+=String.fromCharCode(m),ne):v(m)}function oe(m){return m===u.rightSquareBracket?(e.consume(m),d):v(m)}function d(m){return m===u.greaterThan?(e.consume(m),re):m===u.dash&&o===F.htmlComment?(e.consume(m),d):v(m)}function re(m){return m===u.eof||E(m)?(e.exit(i.htmlFlowData),ce(m)):(e.consume(m),re)}function ce(m){return e.exit(i.htmlFlow),n(m)}}function kr(e,n,t){const r=this;return o;function o(s){return E(s)?(e.enter(i.lineEnding),e.consume(s),e.exit(i.lineEnding),a):t(s)}function a(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}function br(e,n,t){return r;function r(o){return k(E(o),"expected a line ending"),e.enter(i.lineEnding),e.consume(o),e.exit(i.lineEnding),e.attempt(ve,n,t)}}const yr={name:"htmlText",tokenize:Sr};function Sr(e,n,t){const r=this;let o,a,s;return l;function l(d){return k(d===u.lessThan,"expected `<`"),e.enter(i.htmlText),e.enter(i.htmlTextData),e.consume(d),x}function x(d){return d===u.exclamationMark?(e.consume(d),p):d===u.slash?(e.consume(d),P):d===u.questionMark?(e.consume(d),z):se(d)?(e.consume(d),N):t(d)}function p(d){return d===u.dash?(e.consume(d),c):d===u.leftSquareBracket?(e.consume(d),a=0,A):se(d)?(e.consume(d),_):t(d)}function c(d){return d===u.dash?(e.consume(d),f):t(d)}function h(d){return d===u.eof?t(d):d===u.dash?(e.consume(d),g):E(d)?(s=h,J(d)):(e.consume(d),h)}function g(d){return d===u.dash?(e.consume(d),f):h(d)}function f(d){return d===u.greaterThan?U(d):d===u.dash?g(d):h(d)}function A(d){const re=F.cdataOpeningString;return d===re.charCodeAt(a++)?(e.consume(d),a===re.length?B:A):t(d)}function B(d){return d===u.eof?t(d):d===u.rightSquareBracket?(e.consume(d),D):E(d)?(s=B,J(d)):(e.consume(d),B)}function D(d){return d===u.rightSquareBracket?(e.consume(d),C):B(d)}function C(d){return d===u.greaterThan?U(d):d===u.rightSquareBracket?(e.consume(d),C):B(d)}function _(d){return d===u.eof||d===u.greaterThan?U(d):E(d)?(s=_,J(d)):(e.consume(d),_)}function z(d){return d===u.eof?t(d):d===u.questionMark?(e.consume(d),I):E(d)?(s=z,J(d)):(e.consume(d),z)}function I(d){return d===u.greaterThan?U(d):z(d)}function P(d){return se(d)?(e.consume(d),S):t(d)}function S(d){return d===u.dash||ue(d)?(e.consume(d),S):q(d)}function q(d){return E(d)?(s=q,J(d)):R(d)?(e.consume(d),q):U(d)}function N(d){return d===u.dash||ue(d)?(e.consume(d),N):d===u.slash||d===u.greaterThan||ee(d)?Q(d):t(d)}function Q(d){return d===u.slash?(e.consume(d),U):d===u.colon||d===u.underscore||se(d)?(e.consume(d),Y):E(d)?(s=Q,J(d)):R(d)?(e.consume(d),Q):U(d)}function Y(d){return d===u.dash||d===u.dot||d===u.colon||d===u.underscore||ue(d)?(e.consume(d),Y):$(d)}function $(d){return d===u.equalsTo?(e.consume(d),v):E(d)?(s=$,J(d)):R(d)?(e.consume(d),$):Q(d)}function v(d){return d===u.eof||d===u.lessThan||d===u.equalsTo||d===u.greaterThan||d===u.graveAccent?t(d):d===u.quotationMark||d===u.apostrophe?(e.consume(d),o=d,T):E(d)?(s=v,J(d)):R(d)?(e.consume(d),v):(e.consume(d),M)}function T(d){return d===o?(e.consume(d),o=void 0,L):d===u.eof?t(d):E(d)?(s=T,J(d)):(e.consume(d),T)}function M(d){return d===u.eof||d===u.quotationMark||d===u.apostrophe||d===u.lessThan||d===u.equalsTo||d===u.graveAccent?t(d):d===u.slash||d===u.greaterThan||ee(d)?Q(d):(e.consume(d),M)}function L(d){return d===u.slash||d===u.greaterThan||ee(d)?Q(d):t(d)}function U(d){return d===u.greaterThan?(e.consume(d),e.exit(i.htmlTextData),e.exit(i.htmlText),n):t(d)}function J(d){return k(s,"expected return state"),k(E(d),"expected eol"),e.exit(i.htmlTextData),e.enter(i.lineEnding),e.consume(d),e.exit(i.lineEnding),ne}function ne(d){return k(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),R(d)?W(e,oe,i.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:F.tabSize)(d):oe(d)}function oe(d){return e.enter(i.htmlTextData),s(d)}}const et={name:"labelEnd",tokenize:zr,resolveTo:Er,resolveAll:Tr},Cr={tokenize:Ar},wr={tokenize:Br},Fr={tokenize:Ir};function Tr(e){let n=-1;for(;++n<e.length;){const t=e[n][1];(t.type===i.labelImage||t.type===i.labelLink||t.type===i.labelEnd)&&(e.splice(n+1,t.type===i.labelImage?4:2),t.type=i.data,n++)}return e}function Er(e,n){let t=e.length,r=0,o,a,s,l;for(;t--;)if(o=e[t][1],a){if(o.type===i.link||o.type===i.labelLink&&o._inactive)break;e[t][0]==="enter"&&o.type===i.labelLink&&(o._inactive=!0)}else if(s){if(e[t][0]==="enter"&&(o.type===i.labelImage||o.type===i.labelLink)&&!o._balanced&&(a=t,o.type!==i.labelLink)){r=2;break}}else o.type===i.labelEnd&&(s=t);k(a!==void 0,"`open` is supposed to be found"),k(s!==void 0,"`close` is supposed to be found");const x={type:e[a][1].type===i.labelLink?i.link:i.image,start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},p={type:i.label,start:Object.assign({},e[a][1].start),end:Object.assign({},e[s][1].end)},c={type:i.labelText,start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return l=[["enter",x,n],["enter",p,n]],l=ie(l,e.slice(a+1,a+r+3)),l=ie(l,[["enter",c,n]]),k(n.parser.constructs.insideSpan.null,"expected `insideSpan.null` to be populated"),l=ie(l,Xe(n.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),n)),l=ie(l,[["exit",c,n],e[s-2],e[s-1],["exit",p,n]]),l=ie(l,e.slice(s+1)),l=ie(l,[["exit",x,n]]),le(e,a,e.length,l),e}function zr(e,n,t){const r=this;let o=r.events.length,a,s;for(;o--;)if((r.events[o][1].type===i.labelImage||r.events[o][1].type===i.labelLink)&&!r.events[o][1]._balanced){a=r.events[o][1];break}return l;function l(g){return k(g===u.rightSquareBracket,"expected `]`"),a?a._inactive?h(g):(s=r.parser.defined.includes(Fe(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter(i.labelEnd),e.enter(i.labelMarker),e.consume(g),e.exit(i.labelMarker),e.exit(i.labelEnd),x):t(g)}function x(g){return g===u.leftParenthesis?e.attempt(Cr,c,s?c:h)(g):g===u.leftSquareBracket?e.attempt(wr,c,s?p:h)(g):s?c(g):h(g)}function p(g){return e.attempt(Fr,c,h)(g)}function c(g){return n(g)}function h(g){return a._balanced=!0,t(g)}}function Ar(e,n,t){return r;function r(h){return k(h===u.leftParenthesis,"expected left paren"),e.enter(i.resource),e.enter(i.resourceMarker),e.consume(h),e.exit(i.resourceMarker),o}function o(h){return ee(h)?Ie(e,a)(h):a(h)}function a(h){return h===u.rightParenthesis?c(h):Ht(e,s,l,i.resourceDestination,i.resourceDestinationLiteral,i.resourceDestinationLiteralMarker,i.resourceDestinationRaw,i.resourceDestinationString,F.linkResourceDestinationBalanceMax)(h)}function s(h){return ee(h)?Ie(e,x)(h):c(h)}function l(h){return t(h)}function x(h){return h===u.quotationMark||h===u.apostrophe||h===u.leftParenthesis?Nt(e,p,t,i.resourceTitle,i.resourceTitleMarker,i.resourceTitleString)(h):c(h)}function p(h){return ee(h)?Ie(e,c)(h):c(h)}function c(h){return h===u.rightParenthesis?(e.enter(i.resourceMarker),e.consume(h),e.exit(i.resourceMarker),e.exit(i.resource),n):t(h)}}function Br(e,n,t){const r=this;return o;function o(l){return k(l===u.leftSquareBracket,"expected left bracket"),jt.call(r,e,a,s,i.reference,i.referenceMarker,i.referenceString)(l)}function a(l){return r.parser.defined.includes(Fe(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(l):t(l)}function s(l){return t(l)}}function Ir(e,n,t){return r;function r(a){return k(a===u.leftSquareBracket,"expected left bracket"),e.enter(i.reference),e.enter(i.referenceMarker),e.consume(a),e.exit(i.referenceMarker),o}function o(a){return a===u.rightSquareBracket?(e.enter(i.referenceMarker),e.consume(a),e.exit(i.referenceMarker),e.exit(i.reference),n):t(a)}}const Mr={name:"labelStartImage",tokenize:Dr,resolveAll:et.resolveAll};function Dr(e,n,t){const r=this;return o;function o(l){return k(l===u.exclamationMark,"expected `!`"),e.enter(i.labelImage),e.enter(i.labelImageMarker),e.consume(l),e.exit(i.labelImageMarker),a}function a(l){return l===u.leftSquareBracket?(e.enter(i.labelMarker),e.consume(l),e.exit(i.labelMarker),e.exit(i.labelImage),s):t(l)}function s(l){return l===u.caret&&"_hiddenFootnoteSupport"in r.parser.constructs?t(l):n(l)}}const Lr={name:"labelStartLink",tokenize:Or,resolveAll:et.resolveAll};function Or(e,n,t){const r=this;return o;function o(s){return k(s===u.leftSquareBracket,"expected `[`"),e.enter(i.labelLink),e.enter(i.labelMarker),e.consume(s),e.exit(i.labelMarker),e.exit(i.labelLink),a}function a(s){return s===u.caret&&"_hiddenFootnoteSupport"in r.parser.constructs?t(s):n(s)}}const je={name:"lineEnding",tokenize:qr};function qr(e,n){return t;function t(r){return k(E(r),"expected eol"),e.enter(i.lineEnding),e.consume(r),e.exit(i.lineEnding),W(e,n,i.linePrefix)}}const Le={name:"thematicBreak",tokenize:vr};function vr(e,n,t){let r=0,o;return a;function a(p){return e.enter(i.thematicBreak),s(p)}function s(p){return k(p===u.asterisk||p===u.dash||p===u.underscore,"expected `*`, `-`, or `_`"),o=p,l(p)}function l(p){return p===o?(e.enter(i.thematicBreakSequence),x(p)):r>=F.thematicBreakMarkerCountMin&&(p===u.eof||E(p))?(e.exit(i.thematicBreak),n(p)):t(p)}function x(p){return p===o?(e.consume(p),r++,x):(e.exit(i.thematicBreakSequence),R(p)?W(e,l,i.whitespace)(p):l(p))}}const K={name:"list",tokenize:_r,continuation:{tokenize:Hr},exit:Nr},Pr={tokenize:Vr,partial:!0},Rr={tokenize:jr,partial:!0};function _r(e,n,t){const r=this,o=r.events[r.events.length-1];let a=o&&o[1].type===i.linePrefix?o[2].sliceSerialize(o[1],!0).length:0,s=0;return l;function l(f){k(r.containerState,"expected state");const A=r.containerState.type||(f===u.asterisk||f===u.plusSign||f===u.dash?i.listUnordered:i.listOrdered);if(A===i.listUnordered?!r.containerState.marker||f===r.containerState.marker:$e(f)){if(r.containerState.type||(r.containerState.type=A,e.enter(A,{_container:!0})),A===i.listUnordered)return e.enter(i.listItemPrefix),f===u.asterisk||f===u.dash?e.check(Le,t,p)(f):p(f);if(!r.interrupt||f===u.digit1)return e.enter(i.listItemPrefix),e.enter(i.listItemValue),x(f)}return t(f)}function x(f){return k(r.containerState,"expected state"),$e(f)&&++s<F.listItemValueSizeMax?(e.consume(f),x):(!r.interrupt||s<2)&&(r.containerState.marker?f===r.containerState.marker:f===u.rightParenthesis||f===u.dot)?(e.exit(i.listItemValue),p(f)):t(f)}function p(f){return k(r.containerState,"expected state"),k(f!==u.eof,"eof (`null`) is not a marker"),e.enter(i.listItemMarker),e.consume(f),e.exit(i.listItemMarker),r.containerState.marker=r.containerState.marker||f,e.check(ve,r.interrupt?t:c,e.attempt(Pr,g,h))}function c(f){return k(r.containerState,"expected state"),r.containerState.initialBlankLine=!0,a++,g(f)}function h(f){return R(f)?(e.enter(i.listItemPrefixWhitespace),e.consume(f),e.exit(i.listItemPrefixWhitespace),g):t(f)}function g(f){return k(r.containerState,"expected state"),r.containerState.size=a+r.sliceSerialize(e.exit(i.listItemPrefix),!0).length,n(f)}}function Hr(e,n,t){const r=this;return k(r.containerState,"expected state"),r.containerState._closeFlow=void 0,e.check(ve,o,a);function o(l){return k(r.containerState,"expected state"),k(typeof r.containerState.size=="number","expected size"),r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,W(e,n,i.listItemIndent,r.containerState.size+1)(l)}function a(l){return k(r.containerState,"expected state"),r.containerState.furtherBlankLines||!R(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Rr,n,s)(l))}function s(l){return k(r.containerState,"expected state"),r.containerState._closeFlow=!0,r.interrupt=void 0,k(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),W(e,e.attempt(K,n,t),i.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:F.tabSize)(l)}}function jr(e,n,t){const r=this;return k(r.containerState,"expected state"),k(typeof r.containerState.size=="number","expected size"),W(e,o,i.listItemIndent,r.containerState.size+1);function o(a){k(r.containerState,"expected state");const s=r.events[r.events.length-1];return s&&s[1].type===i.listItemIndent&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?n(a):t(a)}}function Nr(e){k(this.containerState,"expected state"),k(typeof this.containerState.type=="string","expected type"),e.exit(this.containerState.type)}function Vr(e,n,t){const r=this;return k(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),W(e,o,i.listItemPrefixWhitespace,r.parser.constructs.disable.null.includes("codeIndented")?void 0:F.tabSize+1);function o(a){const s=r.events[r.events.length-1];return!R(a)&&s&&s[1].type===i.listItemPrefixWhitespace?n(a):t(a)}}const Ct={name:"setextUnderline",tokenize:Qr,resolveTo:Wr};function Wr(e,n){let t=e.length,r,o,a;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type===i.content){r=t;break}e[t][1].type===i.paragraph&&(o=t)}else e[t][1].type===i.content&&e.splice(t,1),!a&&e[t][1].type===i.definition&&(a=t);k(o!==void 0,"expected a `text` index to be found"),k(r!==void 0,"expected a `text` index to be found");const s={type:i.setextHeading,start:Object.assign({},e[o][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[o][1].type=i.setextHeadingText,a?(e.splice(o,0,["enter",s,n]),e.splice(a+1,0,["exit",e[r][1],n]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=s,e.push(["exit",s,n]),e}function Qr(e,n,t){const r=this;let o;return a;function a(p){let c=r.events.length,h;for(k(p===u.dash||p===u.equalsTo,"expected `=` or `-`");c--;)if(r.events[c][1].type!==i.lineEnding&&r.events[c][1].type!==i.linePrefix&&r.events[c][1].type!==i.content){h=r.events[c][1].type===i.paragraph;break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter(i.setextHeadingLine),o=p,s(p)):t(p)}function s(p){return e.enter(i.setextHeadingLineSequence),l(p)}function l(p){return p===o?(e.consume(p),l):(e.exit(i.setextHeadingLineSequence),R(p)?W(e,x,i.lineSuffix)(p):x(p))}function x(p){return p===u.eof||E(p)?(e.exit(i.setextHeadingLine),n(p)):t(p)}}const Ur={tokenize:$r};function $r(e){const n=this,t=e.attempt(ve,r,e.attempt(this.parser.constructs.flowInitial,o,W(e,e.attempt(this.parser.constructs.flow,o,e.attempt(Xn,o)),i.linePrefix)));return t;function r(a){if(k(a===u.eof||E(a),"expected eol or eof"),a===u.eof){e.consume(a);return}return e.enter(i.lineEndingBlank),e.consume(a),e.exit(i.lineEndingBlank),n.currentConstruct=void 0,t}function o(a){if(k(a===u.eof||E(a),"expected eol or eof"),a===u.eof){e.consume(a);return}return e.enter(i.lineEnding),e.consume(a),e.exit(i.lineEnding),n.currentConstruct=void 0,t}}const Gr={resolveAll:Wt()},Yr=Vt("string"),Jr=Vt("text");function Vt(e){return{tokenize:n,resolveAll:Wt(e==="text"?Zr:void 0)};function n(t){const r=this,o=this.parser.constructs[e],a=t.attempt(o,s,l);return s;function s(c){return p(c)?a(c):l(c)}function l(c){if(c===u.eof){t.consume(c);return}return t.enter(i.data),t.consume(c),x}function x(c){return p(c)?(t.exit(i.data),a(c)):(t.consume(c),x)}function p(c){if(c===u.eof)return!0;const h=o[c];let g=-1;if(h)for(k(Array.isArray(h),"expected `disable.null` to be populated");++g<h.length;){const f=h[g];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function Wt(e){return n;function n(t,r){let o=-1,a;for(;++o<=t.length;)a===void 0?t[o]&&t[o][1].type===i.data&&(a=o,o++):(!t[o]||t[o][1].type!==i.data)&&(o!==a+2&&(t[a][1].end=t[o-1][1].end,t.splice(a+2,o-a-2),o=a+2),a=void 0);return e?e(t,r):t}}function Zr(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type===i.lineEnding)&&e[t-1][1].type===i.data){const r=e[t-1][1],o=n.sliceStream(r);let a=o.length,s=-1,l=0,x;for(;a--;){const p=o[a];if(typeof p=="string"){for(s=p.length;p.charCodeAt(s-1)===u.space;)l++,s--;if(s)break;s=-1}else if(p===u.horizontalTab)x=!0,l++;else if(p!==u.virtualSpace){a++;break}}if(l){const p={type:t===e.length||x||l<F.hardBreakPrefixSizeMin?i.lineSuffix:i.hardBreakTrailing,start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},p.start),r.start.offset===r.end.offset?Object.assign(r,p):(e.splice(t,0,["enter",p,n],["exit",p,n]),t+=2)}t++}return e}var Ye={exports:{}},Ne,wt;function Xr(){if(wt)return Ne;wt=1;var e=1e3,n=e*60,t=n*60,r=t*24,o=r*7,a=r*365.25;Ne=function(c,h){h=h||{};var g=typeof c;if(g==="string"&&c.length>0)return s(c);if(g==="number"&&isFinite(c))return h.long?x(c):l(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function s(c){if(c=String(c),!(c.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(h){var g=parseFloat(h[1]),f=(h[2]||"ms").toLowerCase();switch(f){case"years":case"year":case"yrs":case"yr":case"y":return g*a;case"weeks":case"week":case"w":return g*o;case"days":case"day":case"d":return g*r;case"hours":case"hour":case"hrs":case"hr":case"h":return g*t;case"minutes":case"minute":case"mins":case"min":case"m":return g*n;case"seconds":case"second":case"secs":case"sec":case"s":return g*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function l(c){var h=Math.abs(c);return h>=r?Math.round(c/r)+"d":h>=t?Math.round(c/t)+"h":h>=n?Math.round(c/n)+"m":h>=e?Math.round(c/e)+"s":c+"ms"}function x(c){var h=Math.abs(c);return h>=r?p(c,h,r,"day"):h>=t?p(c,h,t,"hour"):h>=n?p(c,h,n,"minute"):h>=e?p(c,h,e,"second"):c+" ms"}function p(c,h,g,f){var A=h>=g*1.5;return Math.round(c/g)+" "+f+(A?"s":"")}return Ne}function Kr(e){t.debug=t,t.default=t,t.coerce=x,t.disable=a,t.enable=o,t.enabled=s,t.humanize=Xr(),t.destroy=p,Object.keys(e).forEach(c=>{t[c]=e[c]}),t.names=[],t.skips=[],t.formatters={};function n(c){let h=0;for(let g=0;g<c.length;g++)h=(h<<5)-h+c.charCodeAt(g),h|=0;return t.colors[Math.abs(h)%t.colors.length]}t.selectColor=n;function t(c){let h,g=null,f,A;function B(...D){if(!B.enabled)return;const C=B,_=Number(new Date),z=_-(h||_);C.diff=z,C.prev=h,C.curr=_,h=_,D[0]=t.coerce(D[0]),typeof D[0]!="string"&&D.unshift("%O");let I=0;D[0]=D[0].replace(/%([a-zA-Z%])/g,(S,q)=>{if(S==="%%")return"%";I++;const N=t.formatters[q];if(typeof N=="function"){const Q=D[I];S=N.call(C,Q),D.splice(I,1),I--}return S}),t.formatArgs.call(C,D),(C.log||t.log).apply(C,D)}return B.namespace=c,B.useColors=t.useColors(),B.color=t.selectColor(c),B.extend=r,B.destroy=t.destroy,Object.defineProperty(B,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(f!==t.namespaces&&(f=t.namespaces,A=t.enabled(c)),A),set:D=>{g=D}}),typeof t.init=="function"&&t.init(B),B}function r(c,h){const g=t(this.namespace+(typeof h>"u"?":":h)+c);return g.log=this.log,g}function o(c){t.save(c),t.namespaces=c,t.names=[],t.skips=[];let h;const g=(typeof c=="string"?c:"").split(/[\s,]+/),f=g.length;for(h=0;h<f;h++)g[h]&&(c=g[h].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.slice(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function a(){const c=[...t.names.map(l),...t.skips.map(l).map(h=>"-"+h)].join(",");return t.enable(""),c}function s(c){if(c[c.length-1]==="*")return!0;let h,g;for(h=0,g=t.skips.length;h<g;h++)if(t.skips[h].test(c))return!1;for(h=0,g=t.names.length;h<g;h++)if(t.names[h].test(c))return!0;return!1}function l(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function x(c){return c instanceof Error?c.stack||c.message:c}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var ei=Kr;(function(e,n){var t={};n.formatArgs=o,n.save=a,n.load=s,n.useColors=r,n.storage=l(),n.destroy=(()=>{let p=!1;return()=>{p||(p=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(p){if(p[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+p[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;p.splice(1,0,c,"color: inherit");let h=0,g=0;p[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(h++,f==="%c"&&(g=h))}),p.splice(g,0,c)}n.log=console.debug||console.log||(()=>{});function a(p){try{p?n.storage.setItem("debug",p):n.storage.removeItem("debug")}catch{}}function s(){let p;try{p=n.storage.getItem("debug")}catch{}return!p&&typeof process<"u"&&"env"in process&&(p=t.DEBUG),p}function l(){try{return localStorage}catch{}}e.exports=ei(n);const{formatters:x}=e.exports;x.j=function(p){try{return JSON.stringify(p)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(Ye,Ye.exports);var ti=Ye.exports;const ni=an(ti),Se=ni("micromark");function ri(e,n,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const o={},a=[];let s=[],l=[],x=!0;const p={consume:I,enter:P,exit:S,attempt:Q(q),check:Q(N),interrupt:Q(N,{interrupt:!0})},c={previous:u.eof,code:u.eof,containerState:{},events:[],parser:e,sliceStream:B,sliceSerialize:A,now:D,defineSkip:C,write:f};let h=n.tokenize.call(c,p),g;return n.resolveAll&&a.push(n),c;function f(T){return s=ie(s,T),_(),s[s.length-1]!==u.eof?[]:(Y(n,0),c.events=Xe(a,c.events,c),c.events)}function A(T,M){return ai(B(T),M)}function B(T){return ii(s,T)}function D(){const{line:T,column:M,offset:L,_index:U,_bufferIndex:J}=r;return{line:T,column:M,offset:L,_index:U,_bufferIndex:J}}function C(T){o[T.line]=T.column,v(),Se("position: define skip: `%j`",r)}function _(){let T;for(;r._index<s.length;){const M=s[r._index];if(typeof M=="string")for(T=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===T&&r._bufferIndex<M.length;)z(M.charCodeAt(r._bufferIndex));else z(M)}}function z(T){k(x===!0,"expected character to be consumed"),x=void 0,Se("main: passing `%s` to %s",T,h&&h.name),g=T,k(typeof h=="function","expected state"),h=h(T)}function I(T){k(T===g,"expected given code to equal expected code"),Se("consume: `%s`",T),k(x===void 0,"expected code to not have been consumed: this might be because `return x(code)` instead of `return x` was used"),k(T===null?c.events.length===0||c.events[c.events.length-1][0]==="exit":c.events[c.events.length-1][0]==="enter","expected last token to be open"),E(T)?(r.line++,r.column=1,r.offset+=T===u.carriageReturnLineFeed?2:1,v(),Se("position: after eol: `%j`",r)):T!==u.virtualSpace&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=T,x=!0}function P(T,M){const L=M||{};return L.type=T,L.start=D(),k(typeof T=="string","expected string type"),k(T.length>0,"expected non-empty string"),Se("enter: `%s`",T),c.events.push(["enter",L,c]),l.push(L),L}function S(T){k(typeof T=="string","expected string type"),k(T.length>0,"expected non-empty string");const M=l.pop();return k(M,"cannot close w/o open tokens"),M.end=D(),k(T===M.type,"expected exit token to match current token"),k(!(M.start._index===M.end._index&&M.start._bufferIndex===M.end._bufferIndex),"expected non-empty token (`"+T+"`)"),Se("exit: `%s`",M.type),c.events.push(["exit",M,c]),M}function q(T,M){Y(T,M.from)}function N(T,M){M.restore()}function Q(T,M){return L;function L(U,J,ne){let oe,d,re,ce;return Array.isArray(U)?te(U):"tokenize"in U?te([U]):m(U);function m(Z){return Ee;function Ee(pe){const we=pe!==null&&Z[pe],ye=pe!==null&&Z.null,Re=[...Array.isArray(we)?we:we?[we]:[],...Array.isArray(ye)?ye:ye?[ye]:[]];return te(Re)(pe)}}function te(Z){return oe=Z,d=0,Z.length===0?(k(ne,"expected `bogusState` to be given"),ne):Ce(Z[d])}function Ce(Z){return Ee;function Ee(pe){return ce=$(),re=Z,Z.partial||(c.currentConstruct=Z),k(c.parser.constructs.disable.null,"expected `disable.null` to be populated"),Z.name&&c.parser.constructs.disable.null.includes(Z.name)?Te(pe):Z.tokenize.call(M?Object.assign(Object.create(c),M):c,p,Pe,Te)(pe)}}function Pe(Z){return k(Z===g,"expected code"),x=!0,T(re,ce),J}function Te(Z){return k(Z===g,"expected code"),x=!0,ce.restore(),++d<oe.length?Ce(oe[d]):ne}}}function Y(T,M){T.resolveAll&&!a.includes(T)&&a.push(T),T.resolve&&le(c.events,M,c.events.length-M,T.resolve(c.events.slice(M),c)),T.resolveTo&&(c.events=T.resolveTo(c.events,c)),k(T.partial||c.events.length===0||c.events[c.events.length-1][0]==="exit","expected last token to end")}function $(){const T=D(),M=c.previous,L=c.currentConstruct,U=c.events.length,J=Array.from(l);return{restore:ne,from:U};function ne(){r=T,c.previous=M,c.currentConstruct=L,c.events.length=U,l=J,v(),Se("position: restore: `%j`",r)}}function v(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function ii(e,n){const t=n.start._index,r=n.start._bufferIndex,o=n.end._index,a=n.end._bufferIndex;let s;if(t===o)k(a>-1,"expected non-negative end buffer index"),k(r>-1,"expected non-negative start buffer index"),s=[e[t].slice(r,a)];else{if(s=e.slice(t,o),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):(k(r===0,"expected `startBufferIndex` to be `0`"),s.shift())}a>0&&s.push(e[o].slice(0,a))}return s}function ai(e,n){let t=-1;const r=[];let o;for(;++t<e.length;){const a=e[t];let s;if(typeof a=="string")s=a;else switch(a){case u.carriageReturn:{s=de.cr;break}case u.lineFeed:{s=de.lf;break}case u.carriageReturnLineFeed:{s=de.cr+de.lf;break}case u.horizontalTab:{s=n?de.space:de.ht;break}case u.virtualSpace:{if(!n&&o)continue;s=de.space;break}default:k(typeof a=="number","expected number"),s=String.fromCharCode(a)}o=a===u.horizontalTab,r.push(s)}return r.join("")}const ui={[u.asterisk]:K,[u.plusSign]:K,[u.dash]:K,[u.digit0]:K,[u.digit1]:K,[u.digit2]:K,[u.digit3]:K,[u.digit4]:K,[u.digit5]:K,[u.digit6]:K,[u.digit7]:K,[u.digit8]:K,[u.digit9]:K,[u.greaterThan]:qt},oi={[u.leftSquareBracket]:rr},si={[u.horizontalTab]:He,[u.virtualSpace]:He,[u.space]:He},li={[u.numberSign]:lr,[u.asterisk]:Le,[u.dash]:[Ct,Le],[u.lessThan]:fr,[u.equalsTo]:Ct,[u.underscore]:Le,[u.graveAccent]:yt,[u.tilde]:yt},ci={[u.ampersand]:Pt,[u.backslash]:vt},pi={[u.carriageReturn]:je,[u.lineFeed]:je,[u.carriageReturnLineFeed]:je,[u.exclamationMark]:Mr,[u.ampersand]:Pt,[u.asterisk]:Ge,[u.lessThan]:[qn,yr],[u.leftSquareBracket]:Lr,[u.backslash]:[or,vt],[u.rightSquareBracket]:et,[u.underscore]:Ge,[u.graveAccent]:Gn},hi={null:[Ge,Gr]},fi={null:[u.asterisk,u.underscore]},di={null:[]},mi=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:fi,contentInitial:oi,disable:di,document:ui,flow:li,flowInitial:si,insideSpan:hi,string:ci,text:pi},Symbol.toStringTag,{value:"Module"}));function gi(e){const t=bn([mi,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:t,content:o(An),document:o(In),flow:o(Ur),string:o(Yr),text:o(Jr)};return r;function o(a){return s;function s(l){return ri(r,a,l)}}}const Ft=/[\0\t\n\r]/g;function xi(){let e=1,n="",t=!0,r;return o;function o(a,s,l){const x=[];let p,c,h,g,f;for(a=n+a.toString(s),h=0,n="",t&&(a.charCodeAt(0)===u.byteOrderMarker&&h++,t=void 0);h<a.length;){if(Ft.lastIndex=h,p=Ft.exec(a),g=p&&p.index!==void 0?p.index:a.length,f=a.charCodeAt(g),!p){n=a.slice(h);break}if(f===u.lf&&h===g&&r)x.push(u.carriageReturnLineFeed),r=void 0;else switch(r&&(x.push(u.carriageReturn),r=void 0),h<g&&(x.push(a.slice(h,g)),e+=g-h),f){case u.nul:{x.push(u.replacementCharacter),e++;break}case u.ht:{for(c=Math.ceil(e/F.tabSize)*F.tabSize,x.push(u.horizontalTab);e++<c;)x.push(u.virtualSpace);break}case u.lf:{x.push(u.lineFeed),e=1;break}default:r=!0,e=1}h=g+1}return l&&(r&&x.push(u.carriageReturn),n&&x.push(n),x.push(u.eof)),x}}function ki(e){for(;!_t(e););return e}function Qt(e,n){const t=Number.parseInt(e,n);return t<u.ht||t===u.vt||t>u.cr&&t<u.space||t>u.tilde&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?de.replacementCharacter:String.fromCharCode(t)}const bi=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function yi(e){return e.replace(bi,Si)}function Si(e,n,t){if(n)return n;if(t.charCodeAt(0)===u.numberSign){const o=t.charCodeAt(1),a=o===u.lowercaseX||o===u.uppercaseX;return Qt(t.slice(a?2:1),a?F.numericBaseHexadecimal:F.numericBaseDecimal)}return Ke(t)||e}function Oe(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Tt(e.position):"start"in e||"end"in e?Tt(e):"line"in e||"column"in e?Je(e):""}function Je(e){return Et(e&&e.line)+":"+Et(e&&e.column)}function Tt(e){return Je(e&&e.start)+"-"+Je(e&&e.end)}function Et(e){return e&&typeof e=="number"?e:1}const Ut={}.hasOwnProperty,$t=function(e,n,t){return typeof n!="string"&&(t=n,n=void 0),Ci(t)(ki(gi(t).document().write(xi()(e,n,!0))))};function Ci(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(ut),autolinkProtocol:$,autolinkEmail:$,atxHeading:l(rt),blockQuote:l(we),characterEscape:$,characterReference:$,codeFenced:l(ye),codeFencedFenceInfo:x,codeFencedFenceMeta:x,codeIndented:l(ye,x),codeText:l(Re,x),codeTextData:$,data:$,codeFlowValue:$,definition:l(Jt),definitionDestinationString:x,definitionLabelString:x,definitionTitleString:x,emphasis:l(Zt),hardBreakEscape:l(it),hardBreakTrailing:l(it),htmlFlow:l(at,x),htmlFlowData:$,htmlText:l(at,x),htmlTextData:$,image:l(Xt),label:x,link:l(ut),listItem:l(Kt),listItemValue:A,listOrdered:l(ot,f),listUnordered:l(ot),paragraph:l(en),reference:Ce,referenceString:x,resourceDestinationString:x,resourceTitleString:x,setextHeading:l(rt),strong:l(tn),thematicBreak:l(rn)},exit:{atxHeading:c(),atxHeadingSequence:q,autolink:c(),autolinkEmail:pe,autolinkProtocol:Ee,blockQuote:c(),characterEscapeValue:v,characterReferenceMarkerHexadecimal:Te,characterReferenceMarkerNumeric:Te,characterReferenceValue:Z,codeFenced:c(_),codeFencedFence:C,codeFencedFenceInfo:B,codeFencedFenceMeta:D,codeFlowValue:v,codeIndented:c(z),codeText:c(J),codeTextData:v,data:v,definition:c(),definitionDestinationString:S,definitionLabelString:I,definitionTitleString:P,emphasis:c(),hardBreakEscape:c(M),hardBreakTrailing:c(M),htmlFlow:c(L),htmlFlowData:v,htmlText:c(U),htmlTextData:v,image:c(oe),label:re,labelText:d,lineEnding:T,link:c(ne),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Pe,resourceDestinationString:ce,resourceTitleString:m,resource:te,setextHeading:c(Y),setextHeadingLineSequence:Q,setextHeadingText:N,strong:c(),thematicBreak:c()}};Gt(n,(e||{}).mdastExtensions||[]);const t={};return r;function r(b){let y={type:"root",children:[]};const w={stack:[y],tokenStack:[],config:n,enter:p,exit:h,buffer:x,resume:g,setData:a,getData:s},H=[];let j=-1;for(;++j<b.length;)if(b[j][1].type===i.listOrdered||b[j][1].type===i.listUnordered)if(b[j][0]==="enter")H.push(j);else{const X=H.pop();k(typeof X=="number","expected list ot be open"),j=o(b,X,j)}for(j=-1;++j<b.length;){const X=n[b[j][0]];Ut.call(X,b[j][1].type)&&X[b[j][1].type].call(Object.assign({sliceSerialize:b[j][2].sliceSerialize},w),b[j][1])}if(w.tokenStack.length>0){const X=w.tokenStack[w.tokenStack.length-1];(X[1]||zt).call(w,void 0,X[0])}for(y.position={start:xe(b.length>0?b[0][1].start:{line:1,column:1,offset:0}),end:xe(b.length>0?b[b.length-2][1].end:{line:1,column:1,offset:0})},j=-1;++j<n.transforms.length;)y=n.transforms[j](y)||y;return y}function o(b,y,w){let H=y-1,j=-1,X=!1,ge,he,ze,Ae;for(;++H<=w;){const G=b[H];if(G[1].type===i.listUnordered||G[1].type===i.listOrdered||G[1].type===i.blockQuote?(G[0]==="enter"?j++:j--,Ae=void 0):G[1].type===i.lineEndingBlank?G[0]==="enter"&&(ge&&!Ae&&!j&&!ze&&(ze=H),Ae=void 0):G[1].type===i.linePrefix||G[1].type===i.listItemValue||G[1].type===i.listItemMarker||G[1].type===i.listItemPrefix||G[1].type===i.listItemPrefixWhitespace||(Ae=void 0),!j&&G[0]==="enter"&&G[1].type===i.listItemPrefix||j===-1&&G[0]==="exit"&&(G[1].type===i.listUnordered||G[1].type===i.listOrdered)){if(ge){let _e=H;for(he=void 0;_e--;){const fe=b[_e];if(fe[1].type===i.lineEnding||fe[1].type===i.lineEndingBlank){if(fe[0]==="exit")continue;he&&(b[he][1].type=i.lineEndingBlank,X=!0),fe[1].type=i.lineEnding,he=_e}else if(!(fe[1].type===i.linePrefix||fe[1].type===i.blockQuotePrefix||fe[1].type===i.blockQuotePrefixWhitespace||fe[1].type===i.blockQuoteMarker||fe[1].type===i.listItemIndent))break}ze&&(!he||ze<he)&&(ge._spread=!0),ge.end=Object.assign({},he?b[he][1].start:G[1].end),b.splice(he||H,0,["exit",ge,G[2]]),H++,w++}G[1].type===i.listItemPrefix&&(ge={type:"listItem",_spread:!1,start:Object.assign({},G[1].start),end:void 0},b.splice(H,0,["enter",ge,G[2]]),H++,w++,ze=void 0,Ae=!0)}}return b[y][1]._spread=X,w}function a(b,y){t[b]=y}function s(b){return t[b]}function l(b,y){return w;function w(H){p.call(this,b(H),H),y&&y.call(this,H)}}function x(){this.stack.push({type:"fragment",children:[]})}function p(b,y,w){const H=this.stack[this.stack.length-1];return k(H,"expected `parent`"),k("children"in H,"expected `parent`"),H.children.push(b),this.stack.push(b),this.tokenStack.push([y,w]),b.position={start:xe(y.start)},b}function c(b){return y;function y(w){b&&b.call(this,w),h.call(this,w)}}function h(b,y){const w=this.stack.pop();k(w,"expected `node`");const H=this.tokenStack.pop();if(H)H[0].type!==b.type&&(y?y.call(this,b,H[0]):(H[1]||zt).call(this,b,H[0]));else throw new Error("Cannot close `"+b.type+"` ("+Oe({start:b.start,end:b.end})+"): it’s not open");return k(w.type!=="fragment","unexpected fragment `exit`ed"),k(w.position,"expected `position` to be defined"),w.position.end=xe(b.end),w}function g(){return xn(this.stack.pop())}function f(){a("expectingFirstListItemValue",!0)}function A(b){if(s("expectingFirstListItemValue")){const y=this.stack[this.stack.length-2];k(y,"expected nodes on stack"),k(y.type==="list","expected list on stack"),y.start=Number.parseInt(this.sliceSerialize(b),F.numericBaseDecimal),a("expectingFirstListItemValue")}}function B(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="code","expected code on stack"),y.lang=b}function D(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="code","expected code on stack"),y.meta=b}function C(){s("flowCodeInside")||(this.buffer(),a("flowCodeInside",!0))}function _(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="code","expected code on stack"),y.value=b.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),a("flowCodeInside")}function z(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="code","expected code on stack"),y.value=b.replace(/(\r?\n|\r)$/g,"")}function I(b){const y=this.resume(),w=this.stack[this.stack.length-1];k(w,"expected node on stack"),k(w.type==="definition","expected definition on stack"),w.label=y,w.identifier=Fe(this.sliceSerialize(b)).toLowerCase()}function P(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="definition","expected definition on stack"),y.title=b}function S(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="definition","expected definition on stack"),y.url=b}function q(b){const y=this.stack[this.stack.length-1];if(k(y,"expected node on stack"),k(y.type==="heading","expected heading on stack"),!y.depth){const w=this.sliceSerialize(b).length;k(w===1||w===2||w===3||w===4||w===5||w===6,"expected `depth` between `1` and `6`"),y.depth=w}}function N(){a("setextHeadingSlurpLineEnding",!0)}function Q(b){const y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="heading","expected heading on stack"),y.depth=this.sliceSerialize(b).charCodeAt(0)===u.equalsTo?1:2}function Y(){a("setextHeadingSlurpLineEnding")}function $(b){const y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k("children"in y,"expected parent on stack");let w=y.children[y.children.length-1];(!w||w.type!=="text")&&(w=nn(),w.position={start:xe(b.start)},y.children.push(w)),this.stack.push(w)}function v(b){const y=this.stack.pop();k(y,"expected a `node` to be on the stack"),k("value"in y,"expected a `literal` to be on the stack"),k(y.position,"expected `node` to have an open position"),y.value+=this.sliceSerialize(b),y.position.end=xe(b.end)}function T(b){const y=this.stack[this.stack.length-1];if(k(y,"expected `node`"),s("atHardBreak")){k("children"in y,"expected `parent`");const w=y.children[y.children.length-1];k(w.position,"expected tail to have a starting position"),w.position.end=xe(b.end),a("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&n.canContainEols.includes(y.type)&&($.call(this,b),v.call(this,b))}function M(){a("atHardBreak",!0)}function L(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="html","expected html on stack"),y.value=b}function U(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="html","expected html on stack"),y.value=b}function J(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="inlineCode","expected inline code on stack"),y.value=b}function ne(){const b=this.stack[this.stack.length-1];if(k(b,"expected node on stack"),k(b.type==="link","expected link on stack"),s("inReference")){const y=s("referenceType")||"shortcut";b.type+="Reference",b.referenceType=y,delete b.url,delete b.title}else delete b.identifier,delete b.label;a("referenceType")}function oe(){const b=this.stack[this.stack.length-1];if(k(b,"expected node on stack"),k(b.type==="image","expected image on stack"),s("inReference")){const y=s("referenceType")||"shortcut";b.type+="Reference",b.referenceType=y,delete b.url,delete b.title}else delete b.identifier,delete b.label;a("referenceType")}function d(b){const y=this.sliceSerialize(b),w=this.stack[this.stack.length-2];k(w,"expected ancestor on stack"),k(w.type==="image"||w.type==="link","expected image or link on stack"),w.label=yi(y),w.identifier=Fe(y).toLowerCase()}function re(){const b=this.stack[this.stack.length-1];k(b,"expected node on stack"),k(b.type==="fragment","expected fragment on stack");const y=this.resume(),w=this.stack[this.stack.length-1];if(k(w,"expected node on stack"),k(w.type==="image"||w.type==="link","expected image or link on stack"),a("inReference",!0),w.type==="link"){const H=b.children;w.children=H}else w.alt=y}function ce(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="image"||y.type==="link","expected image or link on stack"),y.url=b}function m(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="image"||y.type==="link","expected image or link on stack"),y.title=b}function te(){a("inReference")}function Ce(){a("referenceType","collapsed")}function Pe(b){const y=this.resume(),w=this.stack[this.stack.length-1];k(w,"expected node on stack"),k(w.type==="image"||w.type==="link","expected image reference or link reference on stack"),w.label=y,w.identifier=Fe(this.sliceSerialize(b)).toLowerCase(),a("referenceType","full")}function Te(b){k(b.type==="characterReferenceMarkerNumeric"||b.type==="characterReferenceMarkerHexadecimal"),a("characterReferenceType",b.type)}function Z(b){const y=this.sliceSerialize(b),w=s("characterReferenceType");let H;if(w)H=Qt(y,w===i.characterReferenceMarkerNumeric?F.numericBaseDecimal:F.numericBaseHexadecimal),a("characterReferenceType");else{const X=Ke(y);k(X!==!1,"expected reference to decode"),H=X}const j=this.stack.pop();k(j,"expected `node`"),k(j.position,"expected `node.position`"),k("value"in j,"expected `node.value`"),j.value+=H,j.position.end=xe(b.end)}function Ee(b){v.call(this,b);const y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="link","expected link on stack"),y.url=this.sliceSerialize(b)}function pe(b){v.call(this,b);const y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="link","expected link on stack"),y.url="mailto:"+this.sliceSerialize(b)}function we(){return{type:"blockquote",children:[]}}function ye(){return{type:"code",lang:null,meta:null,value:""}}function Re(){return{type:"inlineCode",value:""}}function Jt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Zt(){return{type:"emphasis",children:[]}}function rt(){return{type:"heading",depth:void 0,children:[]}}function it(){return{type:"break"}}function at(){return{type:"html",value:""}}function Xt(){return{type:"image",title:null,url:"",alt:null}}function ut(){return{type:"link",title:null,url:"",children:[]}}function ot(b){return{type:"list",ordered:b.type==="listOrdered",start:null,spread:b._spread,children:[]}}function Kt(b){return{type:"listItem",spread:b._spread,checked:null,children:[]}}function en(){return{type:"paragraph",children:[]}}function tn(){return{type:"strong",children:[]}}function nn(){return{type:"text",value:""}}function rn(){return{type:"thematicBreak"}}}function xe(e){return{line:e.line,column:e.column,offset:e.offset}}function Gt(e,n){let t=-1;for(;++t<n.length;){const r=n[t];Array.isArray(r)?Gt(e,r):wi(e,r)}}function wi(e,n){let t;for(t in n)if(Ut.call(n,t)){if(t==="canContainEols"){const r=n[t];r&&e[t].push(...r)}else if(t==="transforms"){const r=n[t];r&&e[t].push(...r)}else if(t==="enter"||t==="exit"){const r=n[t];r&&Object.assign(e[t],r)}}}function zt(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+Oe({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+Oe({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+Oe({start:n.start,end:n.end})+") is still open")}function Fi(e){const n=e.replace(/\n{2,}/g,`
`);return sn(n)}function Ti(e){const n=Fi(e),{children:t}=$t(n),r=[[]];let o=0;function a(s,l="normal"){s.type==="text"?s.value.split(`
`).forEach((p,c)=>{c!==0&&(o++,r.push([])),p.split(" ").forEach(h=>{h&&r[o].push({content:h,type:l})})}):(s.type==="strong"||s.type==="emphasis")&&s.children.forEach(x=>{a(x,s.type)})}return t.forEach(s=>{s.type==="paragraph"&&s.children.forEach(l=>{a(l)})}),r}function Ei(e){const{children:n}=$t(e);function t(r){return r.type==="text"?r.value.replace(/\n/g,"<br/>"):r.type==="strong"?`<strong>${r.children.map(t).join("")}</strong>`:r.type==="emphasis"?`<em>${r.children.map(t).join("")}</em>`:r.type==="paragraph"?`<p>${r.children.map(t).join("")}</p>`:`Unsupported markdown: ${r.type}`}return n.map(t).join("")}function zi(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(n=>n.segment):[...e]}function Ai(e,n){const t=zi(n.content);return Yt(e,[],t,n.type)}function Yt(e,n,t,r){if(t.length===0)return[{content:n.join(""),type:r},{content:"",type:r}];const[o,...a]=t,s=[...n,o];return e([{content:s.join(""),type:r}])?Yt(e,s,a,r):(n.length===0&&o&&(n.push(o),t.shift()),[{content:n.join(""),type:r},{content:t.join(""),type:r}])}function Bi(e,n){if(e.some(({content:t})=>t.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return Ze(e,n)}function Ze(e,n,t=[],r=[]){if(e.length===0)return r.length>0&&t.push(r),t.length>0?t:[];let o="";e[0].content===" "&&(o=" ",e.shift());const a=e.shift()??{content:" ",type:"normal"},s=[...r];if(o!==""&&s.push({content:o,type:"normal"}),s.push(a),n(s))return Ze(e,n,t,s);if(r.length>0)t.push(r),e.unshift(a);else if(a.content){const[l,x]=Ai(n,a);t.push([l]),x.content&&e.unshift(x)}return Ze(e,n,t)}function Ii(e,n){n&&e.attr("style",n)}function Mi(e,n,t,r,o=!1){const a=e.append("foreignObject"),s=a.append("xhtml:div"),l=n.label,x=n.isNode?"nodeLabel":"edgeLabel";s.html(`
    <span class="${x} ${r}" `+(n.labelStyle?'style="'+n.labelStyle+'"':"")+">"+l+"</span>"),Ii(s,n.labelStyle),s.style("display","table-cell"),s.style("white-space","nowrap"),s.style("max-width",t+"px"),s.attr("xmlns","http://www.w3.org/1999/xhtml"),o&&s.attr("class","labelBkg");let p=s.node().getBoundingClientRect();return p.width===t&&(s.style("display","table"),s.style("white-space","break-spaces"),s.style("width",t+"px"),p=s.node().getBoundingClientRect()),a.style("width",p.width),a.style("height",p.height),a.node()}function tt(e,n,t){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",n*t-.1+"em").attr("dy",t+"em")}function Di(e,n,t){const r=e.append("text"),o=tt(r,1,n);nt(o,t);const a=o.node().getComputedTextLength();return r.remove(),a}function qi(e,n,t){var r;const o=e.append("text"),a=tt(o,1,n);nt(a,[{content:t,type:"normal"}]);const s=(r=a.node())==null?void 0:r.getBoundingClientRect();return s&&o.remove(),s}function Li(e,n,t,r=!1){const a=n.append("g"),s=a.insert("rect").attr("class","background"),l=a.append("text").attr("y","-10.1");let x=0;for(const p of t){const c=g=>Di(a,1.1,g)<=e,h=c(p)?[p]:Bi(p,c);for(const g of h){const f=tt(l,x,1.1);nt(f,g),x++}}if(r){const p=l.node().getBBox(),c=2;return s.attr("x",-c).attr("y",-c).attr("width",p.width+2*c).attr("height",p.height+2*c),a.node()}else return l.node()}function nt(e,n){e.text(""),n.forEach((t,r)=>{const o=e.append("tspan").attr("font-style",t.type==="emphasis"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",t.type==="strong"?"bold":"normal");r===0?o.text(t.content):o.text(" "+t.content)})}const vi=(e,n="",{style:t="",isTitle:r=!1,classes:o="",useHtmlLabels:a=!0,isNode:s=!0,width:l=200,addSvgBackground:x=!1}={})=>{if(un.info("createText",n,t,r,o,a,s,x),a){const p=Ei(n),c={isNode:s,label:on(p).replace(/fa[blrs]?:fa-[\w-]+/g,g=>`<i class='${g.replace(":"," ")}'></i>`),labelStyle:t.replace("fill:","color:")};return Mi(e,c,l,o,x)}else{const p=Ti(n);return Li(l,e,p,x)}};export{vi as a,qi as c};
